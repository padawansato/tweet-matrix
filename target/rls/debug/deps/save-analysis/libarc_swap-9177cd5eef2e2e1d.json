{"config":{"output_file":null,"full_docs":false,"pub_only":true,"reachable_only":true,"distro_crate":false,"signatures":false,"borrow_data":false},"version":"0.19.1","compilation":{"directory":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3","program":"/Users/padawan_e15/.rustup/toolchains/stable-aarch64-apple-darwin/bin/rls","arguments":["--crate-name","arc_swap","/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","--json=diagnostic-rendered-ansi","--crate-type","lib","--emit=dep-info,metadata","-C","embed-bitcode=no","-C","split-debuginfo=unpacked","-C","debuginfo=2","-C","metadata=9177cd5eef2e2e1d","-C","extra-filename=-9177cd5eef2e2e1d","--out-dir","/Users/padawan_e15/ghq/github.com/meganehouser/rustmatrix/target/rls/debug/deps","-L","dependency=/Users/padawan_e15/ghq/github.com/meganehouser/rustmatrix/target/rls/debug/deps","--cap-lints","allow","--error-format=json","--sysroot","/Users/padawan_e15/.rustup/toolchains/stable-aarch64-apple-darwin"],"output":"/Users/padawan_e15/ghq/github.com/meganehouser/rustmatrix/target/rls/debug/deps/libarc_swap-9177cd5eef2e2e1d.rmeta"},"prelude":{"crate_id":{"name":"arc_swap","disambiguator":[14023350266843001346,2739156732283869166]},"crate_root":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src","external_crates":[{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":1,"id":{"name":"std","disambiguator":[2450264148744425324,10050667756610945632]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":2,"id":{"name":"core","disambiguator":[5216882650067454300,803391174261596525]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":3,"id":{"name":"compiler_builtins","disambiguator":[5321725740897068604,14247691274753233016]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":4,"id":{"name":"rustc_std_workspace_core","disambiguator":[15008236376303079999,8121662539630509915]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":5,"id":{"name":"alloc","disambiguator":[12920482519877858869,7783732174216732460]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":6,"id":{"name":"libc","disambiguator":[12220061461292827086,10995062625150216334]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":7,"id":{"name":"unwind","disambiguator":[4557698817887729143,15105021759844686565]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":8,"id":{"name":"cfg_if","disambiguator":[9270263569388356812,1031064821649785583]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":9,"id":{"name":"hashbrown","disambiguator":[17403927150379973007,17129611224880441426]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":10,"id":{"name":"rustc_std_workspace_alloc","disambiguator":[8342530726152111216,8633669874212043972]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":11,"id":{"name":"rustc_demangle","disambiguator":[16317838093811012662,7640540080182738814]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":12,"id":{"name":"std_detect","disambiguator":[11516351311229957058,6496694232360362766]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":13,"id":{"name":"addr2line","disambiguator":[15319259245696541708,12758538875610414082]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":14,"id":{"name":"gimli","disambiguator":[13027830824513170433,9319164864677654917]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":15,"id":{"name":"object","disambiguator":[6239108798947591245,16929767405147073453]}},{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","num":16,"id":{"name":"panic_unwind","disambiguator":[9689407603164028381,5815853528255048552]}}],"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":0,"byte_end":73964,"line_start":1,"line_end":1836,"column_start":1,"column_end":2}},"imports":[{"kind":"Use","ref_id":{"krate":0,"index":660},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":13187,"byte_end":13192,"line_start":271,"line_end":271,"column_start":16,"column_end":21},"alias_span":null,"name":"Cache","value":"","parent":{"krate":0,"index":0}},{"kind":"Use","ref_id":{"krate":0,"index":306},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":13291,"byte_end":13297,"line_start":274,"line_end":274,"column_start":18,"column_end":24},"alias_span":null,"name":"RefCnt","value":"","parent":{"krate":0,"index":0}}],"defs":[{"kind":"Mod","id":{"krate":0,"index":0},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":0,"byte_end":73964,"line_start":1,"line_end":1836,"column_start":1,"column_end":2},"name":"","qualname":"::","value":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","parent":null,"children":[{"krate":0,"index":1},{"krate":0,"index":2},{"krate":0,"index":3},{"krate":0,"index":111},{"krate":0,"index":140},{"krate":0,"index":188},{"krate":0,"index":189},{"krate":0,"index":247},{"krate":0,"index":296},{"krate":0,"index":331},{"krate":0,"index":332},{"krate":0,"index":333},{"krate":0,"index":335},{"krate":0,"index":338},{"krate":0,"index":341},{"krate":0,"index":344},{"krate":0,"index":347},{"krate":0,"index":348},{"krate":0,"index":350},{"krate":0,"index":351},{"krate":0,"index":354},{"krate":0,"index":357},{"krate":0,"index":360},{"krate":0,"index":363},{"krate":0,"index":366},{"krate":0,"index":367},{"krate":0,"index":370},{"krate":0,"index":373},{"krate":0,"index":376},{"krate":0,"index":379},{"krate":0,"index":382},{"krate":0,"index":385},{"krate":0,"index":386},{"krate":0,"index":389},{"krate":0,"index":392},{"krate":0,"index":395},{"krate":0,"index":398},{"krate":0,"index":401},{"krate":0,"index":402},{"krate":0,"index":403},{"krate":0,"index":405},{"krate":0,"index":408},{"krate":0,"index":411},{"krate":0,"index":414},{"krate":0,"index":417},{"krate":0,"index":418},{"krate":0,"index":421},{"krate":0,"index":426},{"krate":0,"index":429},{"krate":0,"index":439},{"krate":0,"index":442},{"krate":0,"index":447},{"krate":0,"index":452},{"krate":0,"index":457},{"krate":0,"index":461},{"krate":0,"index":465},{"krate":0,"index":469},{"krate":0,"index":730},{"krate":0,"index":735},{"krate":0,"index":736},{"krate":0,"index":473},{"krate":0,"index":474},{"krate":0,"index":480},{"krate":0,"index":484},{"krate":0,"index":488},{"krate":0,"index":492},{"krate":0,"index":496},{"krate":0,"index":500},{"krate":0,"index":504},{"krate":0,"index":530},{"krate":0,"index":532},{"krate":0,"index":540},{"krate":0,"index":542},{"krate":0,"index":548}],"decl_id":null,"docs":" Making [`Arc`][Arc] itself atomic","sig":null,"attributes":[{"value":"deny(missing_docs, warnings)","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":106,"byte_end":138,"line_start":5,"line_end":5,"column_start":1,"column_end":33}},{"value":"allow(unknown_lints, bare_trait_objects, renamed_and_removed_lints)","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":184,"byte_end":255,"line_start":7,"line_end":7,"column_start":1,"column_end":72}},{"value":"/ Making [`Arc`][Arc] itself atomic","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":532,"byte_end":569,"line_start":13,"line_end":13,"column_start":1,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":570,"byte_end":573,"line_start":14,"line_end":14,"column_start":1,"column_end":4}},{"value":"/ This library provides the [`ArcSwapAny`][ArcSwapAny] type (which you probably don't want to use","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":574,"byte_end":673,"line_start":15,"line_end":15,"column_start":1,"column_end":100}},{"value":"/ directly) and several type aliases that set it up for common use cases:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":674,"byte_end":749,"line_start":16,"line_end":16,"column_start":1,"column_end":76}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":750,"byte_end":753,"line_start":17,"line_end":17,"column_start":1,"column_end":4}},{"value":"/ * [`ArcSwap`][ArcSwap], which operates on [`Arc<T>`][Arc].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":754,"byte_end":816,"line_start":18,"line_end":18,"column_start":1,"column_end":63}},{"value":"/ * [`ArcSwapOption`][ArcSwapOption], which operates on `Option<Arc<T>>`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":817,"byte_end":892,"line_start":19,"line_end":19,"column_start":1,"column_end":76}},{"value":"/ * [`IndependentArcSwap`][IndependentArcSwap], which uses slightly different trade-off decisions","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":893,"byte_end":992,"line_start":20,"line_end":20,"column_start":1,"column_end":100}},{"value":"/   ‒ see below.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":993,"byte_end":1013,"line_start":21,"line_end":21,"column_start":1,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1014,"byte_end":1017,"line_start":22,"line_end":22,"column_start":1,"column_end":4}},{"value":"/ Note that as these are *type aliases*, the useful methods are defined on","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1018,"byte_end":1094,"line_start":23,"line_end":23,"column_start":1,"column_end":77}},{"value":"/ [`ArcSwapAny`][ArcSwapAny] directly and you want to look at its documentation, not on the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1095,"byte_end":1188,"line_start":24,"line_end":24,"column_start":1,"column_end":94}},{"value":"/ aliases.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1189,"byte_end":1201,"line_start":25,"line_end":25,"column_start":1,"column_end":13}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1202,"byte_end":1205,"line_start":26,"line_end":26,"column_start":1,"column_end":4}},{"value":"/ This is similar to [`RwLock<Arc<T>>`][RwLock], but it is faster, the readers are never blocked","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1206,"byte_end":1304,"line_start":27,"line_end":27,"column_start":1,"column_end":99}},{"value":"/ (not even by writes) and it is more configurable.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1305,"byte_end":1358,"line_start":28,"line_end":28,"column_start":1,"column_end":54}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1359,"byte_end":1362,"line_start":29,"line_end":29,"column_start":1,"column_end":4}},{"value":"/ Or, you can look at it this way. There's [`Arc<T>`][Arc] ‒ it knows when it stops being used and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1363,"byte_end":1465,"line_start":30,"line_end":30,"column_start":1,"column_end":101}},{"value":"/ therefore can clean up memory. But once there's a [`Arc<T>`][Arc] somewhere, shared between","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1466,"byte_end":1561,"line_start":31,"line_end":31,"column_start":1,"column_end":96}},{"value":"/ threads, it has to keep pointing to the same thing. On the other hand, there's","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1562,"byte_end":1644,"line_start":32,"line_end":32,"column_start":1,"column_end":83}},{"value":"/ [`AtomicPtr`][AtomicPtr] which can be changed even when shared between","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1645,"byte_end":1719,"line_start":33,"line_end":33,"column_start":1,"column_end":75}},{"value":"/ threads, but it doesn't know when the data pointed to is no longer in use so it","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1720,"byte_end":1803,"line_start":34,"line_end":34,"column_start":1,"column_end":84}},{"value":"/ doesn't clean up. This is a hybrid between the two.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1804,"byte_end":1859,"line_start":35,"line_end":35,"column_start":1,"column_end":56}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1860,"byte_end":1863,"line_start":36,"line_end":36,"column_start":1,"column_end":4}},{"value":"/ # Motivation","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1864,"byte_end":1880,"line_start":37,"line_end":37,"column_start":1,"column_end":17}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1881,"byte_end":1884,"line_start":38,"line_end":38,"column_start":1,"column_end":4}},{"value":"/ First, the C++ [`shared_ptr`][shared_ptr] can act this way. The fact that it's only the surface","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1885,"byte_end":1984,"line_start":39,"line_end":39,"column_start":1,"column_end":100}},{"value":"/ API and all the implementations I could find hide a mutex inside wasn't known to me when I","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":1985,"byte_end":2079,"line_start":40,"line_end":40,"column_start":1,"column_end":95}},{"value":"/ started working on this. So I decided Rust needs to keep up there.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2080,"byte_end":2150,"line_start":41,"line_end":41,"column_start":1,"column_end":71}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2151,"byte_end":2154,"line_start":42,"line_end":42,"column_start":1,"column_end":4}},{"value":"/ Second, I like hard problems and this seems like an apt supply of them.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2155,"byte_end":2230,"line_start":43,"line_end":43,"column_start":1,"column_end":76}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2231,"byte_end":2234,"line_start":44,"line_end":44,"column_start":1,"column_end":4}},{"value":"/ And third, I actually have few use cases for something like this.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2235,"byte_end":2304,"line_start":45,"line_end":45,"column_start":1,"column_end":70}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2305,"byte_end":2308,"line_start":46,"line_end":46,"column_start":1,"column_end":4}},{"value":"/ # Performance characteristics","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2309,"byte_end":2342,"line_start":47,"line_end":47,"column_start":1,"column_end":34}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2343,"byte_end":2346,"line_start":48,"line_end":48,"column_start":1,"column_end":4}},{"value":"/ It is optimised for read-heavy situations with only occasional writes. Few examples might be:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2347,"byte_end":2444,"line_start":49,"line_end":49,"column_start":1,"column_end":98}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2445,"byte_end":2448,"line_start":50,"line_end":50,"column_start":1,"column_end":4}},{"value":"/ * Global configuration data structure, which is updated once in a blue moon when an operator","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2449,"byte_end":2545,"line_start":51,"line_end":51,"column_start":1,"column_end":97}},{"value":"/   manually does some changes, but looked into through the whole program all the time. Looking","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2546,"byte_end":2643,"line_start":52,"line_end":52,"column_start":1,"column_end":98}},{"value":"/   into it should be cheap and multiple threads should be able to look into it at the same time.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2644,"byte_end":2743,"line_start":53,"line_end":53,"column_start":1,"column_end":100}},{"value":"/ * Some in-memory database or maybe routing tables, where lookup latency matters. Updating the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2744,"byte_end":2841,"line_start":54,"line_end":54,"column_start":1,"column_end":98}},{"value":"/   routing tables isn't an excuse to stop processing packets even for a short while.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2842,"byte_end":2929,"line_start":55,"line_end":55,"column_start":1,"column_end":88}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2930,"byte_end":2933,"line_start":56,"line_end":56,"column_start":1,"column_end":4}},{"value":"/ ## Lock-free readers","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2934,"byte_end":2958,"line_start":57,"line_end":57,"column_start":1,"column_end":25}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2959,"byte_end":2962,"line_start":58,"line_end":58,"column_start":1,"column_end":4}},{"value":"/ All the read operations are always [lock-free]. Most of the time, they are actually","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":2963,"byte_end":3050,"line_start":59,"line_end":59,"column_start":1,"column_end":88}},{"value":"/ [wait-free]. The only one that is *only* lock-free is the first [`load`][load] access in each","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3051,"byte_end":3148,"line_start":60,"line_end":60,"column_start":1,"column_end":98}},{"value":"/ thread (across all the pointers).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3149,"byte_end":3186,"line_start":61,"line_end":61,"column_start":1,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3187,"byte_end":3190,"line_start":62,"line_end":62,"column_start":1,"column_end":4}},{"value":"/ So, when the documentation talks about *contention*, it talks about multiple CPU cores having to","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3191,"byte_end":3291,"line_start":63,"line_end":63,"column_start":1,"column_end":101}},{"value":"/ sort out who changes the bytes in a cache line first and who is next. This slows things down,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3292,"byte_end":3389,"line_start":64,"line_end":64,"column_start":1,"column_end":98}},{"value":"/ but it still rolls forward and stop for no one, not like with the mutex-style contention when","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3390,"byte_end":3487,"line_start":65,"line_end":65,"column_start":1,"column_end":98}},{"value":"/ one holds the lock and other threads get parked.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3488,"byte_end":3540,"line_start":66,"line_end":66,"column_start":1,"column_end":53}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3541,"byte_end":3544,"line_start":67,"line_end":67,"column_start":1,"column_end":4}},{"value":"/ Unfortunately, there are cases where readers block writers from completion. It's much more","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3545,"byte_end":3639,"line_start":68,"line_end":68,"column_start":1,"column_end":95}},{"value":"/ limited in scope than with [`Mutex`][Mutex] or [`RwLock`][RwLock] and steady stream of readers","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3640,"byte_end":3738,"line_start":69,"line_end":69,"column_start":1,"column_end":99}},{"value":"/ will *not* prevent an update from happening indefinitely (only a reader stuck in a critical","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3739,"byte_end":3834,"line_start":70,"line_end":70,"column_start":1,"column_end":96}},{"value":"/ section could, and when used according to recommendations, the critical sections contain no","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3835,"byte_end":3930,"line_start":71,"line_end":71,"column_start":1,"column_end":96}},{"value":"/ loops and are only several instructions short).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3931,"byte_end":3982,"line_start":72,"line_end":72,"column_start":1,"column_end":52}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3983,"byte_end":3986,"line_start":73,"line_end":73,"column_start":1,"column_end":4}},{"value":"/ ## Speeds","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":3987,"byte_end":4000,"line_start":74,"line_end":74,"column_start":1,"column_end":14}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4001,"byte_end":4004,"line_start":75,"line_end":75,"column_start":1,"column_end":4}},{"value":"/ The base line speed of read operations is similar to using an *uncontended* [`Mutex`][Mutex].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4005,"byte_end":4102,"line_start":76,"line_end":76,"column_start":1,"column_end":98}},{"value":"/ However, [`load`][load] suffers no contention from any other read operations and only slight","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4103,"byte_end":4199,"line_start":77,"line_end":77,"column_start":1,"column_end":97}},{"value":"/ ones during updates. The [`load_full`][load_full] operation is additionally contended only on","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4200,"byte_end":4297,"line_start":78,"line_end":78,"column_start":1,"column_end":98}},{"value":"/ the reference count of the [`Arc`][Arc] inside ‒ so, in general, while [`Mutex`][Mutex] rapidly","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4298,"byte_end":4399,"line_start":79,"line_end":79,"column_start":1,"column_end":100}},{"value":"/ loses its performance when being in active use by multiple threads at once and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4400,"byte_end":4482,"line_start":80,"line_end":80,"column_start":1,"column_end":83}},{"value":"/ [`RwLock`][RwLock] is slow to start with, [`ArcSwapAny`][ArcSwapAny] mostly keeps its","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4483,"byte_end":4572,"line_start":81,"line_end":81,"column_start":1,"column_end":90}},{"value":"/ performance even when read by many threads in parallel.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4573,"byte_end":4632,"line_start":82,"line_end":82,"column_start":1,"column_end":60}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4633,"byte_end":4636,"line_start":83,"line_end":83,"column_start":1,"column_end":4}},{"value":"/ Write operations are considered expensive. A write operation is more expensive than access to","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4637,"byte_end":4734,"line_start":84,"line_end":84,"column_start":1,"column_end":98}},{"value":"/ an *uncontended* [`Mutex`][Mutex] and on some architectures even slower than uncontended","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4735,"byte_end":4827,"line_start":85,"line_end":85,"column_start":1,"column_end":93}},{"value":"/ [`RwLock`][RwLock]. However, it is faster than either under contention.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4828,"byte_end":4903,"line_start":86,"line_end":86,"column_start":1,"column_end":76}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4904,"byte_end":4907,"line_start":87,"line_end":87,"column_start":1,"column_end":4}},{"value":"/ There are some (very unscientific) [benchmarks] within the source code of the library.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4908,"byte_end":4998,"line_start":88,"line_end":88,"column_start":1,"column_end":91}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":4999,"byte_end":5002,"line_start":89,"line_end":89,"column_start":1,"column_end":4}},{"value":"/ The exact numbers are highly dependant on the machine used (both absolute numbers and relative","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5003,"byte_end":5101,"line_start":90,"line_end":90,"column_start":1,"column_end":99}},{"value":"/ between different data structures). Not only architectures have a huge impact (eg. x86 vs ARM),","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5102,"byte_end":5201,"line_start":91,"line_end":91,"column_start":1,"column_end":100}},{"value":"/ but even AMD vs. Intel or two different Intel processors. Therefore, if what matters is more","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5202,"byte_end":5298,"line_start":92,"line_end":92,"column_start":1,"column_end":97}},{"value":"/ the speed than the wait-free guarantees, you're advised to do your own measurements.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5299,"byte_end":5387,"line_start":93,"line_end":93,"column_start":1,"column_end":89}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5388,"byte_end":5391,"line_start":94,"line_end":94,"column_start":1,"column_end":4}},{"value":"/ However, the intended selling point of the library is consistency in the performance, not","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5392,"byte_end":5485,"line_start":95,"line_end":95,"column_start":1,"column_end":94}},{"value":"/ outperforming other locking primitives in average. If you do worry about the raw performance,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5486,"byte_end":5583,"line_start":96,"line_end":96,"column_start":1,"column_end":98}},{"value":"/ you can have a look at [`Cache`][Cache].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5584,"byte_end":5628,"line_start":97,"line_end":97,"column_start":1,"column_end":45}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5629,"byte_end":5632,"line_start":98,"line_end":98,"column_start":1,"column_end":4}},{"value":"/ ## Choosing the right reading operation","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5633,"byte_end":5676,"line_start":99,"line_end":99,"column_start":1,"column_end":44}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5677,"byte_end":5680,"line_start":100,"line_end":100,"column_start":1,"column_end":4}},{"value":"/ There are several load operations available. While the general go-to one should be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5681,"byte_end":5767,"line_start":101,"line_end":101,"column_start":1,"column_end":87}},{"value":"/ [`load`][load], there may be situations in which the others are a better match.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5768,"byte_end":5851,"line_start":102,"line_end":102,"column_start":1,"column_end":84}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5852,"byte_end":5855,"line_start":103,"line_end":103,"column_start":1,"column_end":4}},{"value":"/ The [`load`][load] usually only borrows the instance from the shared [`ArcSwapAny`]. This makes","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5856,"byte_end":5955,"line_start":104,"line_end":104,"column_start":1,"column_end":100}},{"value":"/ it faster, because different threads don't contend on the reference count. There are two","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":5956,"byte_end":6048,"line_start":105,"line_end":105,"column_start":1,"column_end":93}},{"value":"/ situations when this borrow isn't possible. If the content of `ArcSwapAny` gets changed, all","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6049,"byte_end":6145,"line_start":106,"line_end":106,"column_start":1,"column_end":97}},{"value":"/ existing [`Guard`][Guard]s are promoted to contain an owned instance.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6146,"byte_end":6219,"line_start":107,"line_end":107,"column_start":1,"column_end":74}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6220,"byte_end":6223,"line_start":108,"line_end":108,"column_start":1,"column_end":4}},{"value":"/ The other situation derives from internal implementation. The number of borrows each thread can","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6224,"byte_end":6323,"line_start":109,"line_end":109,"column_start":1,"column_end":100}},{"value":"/ have at each time (across all [`Guard`][Guard]s) is limited. If this limit is exceeded, an","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6324,"byte_end":6418,"line_start":110,"line_end":110,"column_start":1,"column_end":95}},{"value":"/ onwed instance is created instead.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6419,"byte_end":6457,"line_start":111,"line_end":111,"column_start":1,"column_end":39}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6458,"byte_end":6461,"line_start":112,"line_end":112,"column_start":1,"column_end":4}},{"value":"/ Therefore, if you intend to hold onto the loaded value for extended time span, you may prefer","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6462,"byte_end":6559,"line_start":113,"line_end":113,"column_start":1,"column_end":98}},{"value":"/ [`load_full`][load_full]. It loads the pointer instance (`Arc`) without borrowing, which is","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6560,"byte_end":6655,"line_start":114,"line_end":114,"column_start":1,"column_end":96}},{"value":"/ slower (because of the possible contention on the reference count), but doesn't consume one of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6656,"byte_end":6754,"line_start":115,"line_end":115,"column_start":1,"column_end":99}},{"value":"/ the borrow slots, which will make it more likely for following [`load`][load]s to have a slot","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6755,"byte_end":6852,"line_start":116,"line_end":116,"column_start":1,"column_end":98}},{"value":"/ available. Similarly, if some API needs an owned `Arc`, [`load_full`][load_full] is more","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6853,"byte_end":6945,"line_start":117,"line_end":117,"column_start":1,"column_end":93}},{"value":"/ convenient.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6946,"byte_end":6961,"line_start":118,"line_end":118,"column_start":1,"column_end":16}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6962,"byte_end":6965,"line_start":119,"line_end":119,"column_start":1,"column_end":4}},{"value":"/ There's also [`load_signal_safe`][load_signal_safe]. This is the only method guaranteed to be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":6966,"byte_end":7063,"line_start":120,"line_end":120,"column_start":1,"column_end":98}},{"value":"/ safely usable inside a unix signal handler. It has no advantages outside of them, so it makes","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7064,"byte_end":7161,"line_start":121,"line_end":121,"column_start":1,"column_end":98}},{"value":"/ it kind of niche one.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7162,"byte_end":7187,"line_start":122,"line_end":122,"column_start":1,"column_end":26}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7188,"byte_end":7191,"line_start":123,"line_end":123,"column_start":1,"column_end":4}},{"value":"/ Additionally, it is possible to use a [`Cache`][Cache] to get further speed improvement at the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7192,"byte_end":7290,"line_start":124,"line_end":124,"column_start":1,"column_end":99}},{"value":"/ cost of less comfortable API and possibly keeping the older values alive for longer than","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7291,"byte_end":7383,"line_start":125,"line_end":125,"column_start":1,"column_end":93}},{"value":"/ necessary.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7384,"byte_end":7398,"line_start":126,"line_end":126,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7399,"byte_end":7402,"line_start":127,"line_end":127,"column_start":1,"column_end":4}},{"value":"/ # Atomic orderings","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7403,"byte_end":7425,"line_start":128,"line_end":128,"column_start":1,"column_end":23}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7426,"byte_end":7429,"line_start":129,"line_end":129,"column_start":1,"column_end":4}},{"value":"/ It is guaranteed each operation performs at least one `SeqCst` atomic read-write operation,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7430,"byte_end":7525,"line_start":130,"line_end":130,"column_start":1,"column_end":96}},{"value":"/ therefore even operations on different instances have a defined global order of operations.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7526,"byte_end":7621,"line_start":131,"line_end":131,"column_start":1,"column_end":96}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7622,"byte_end":7625,"line_start":132,"line_end":132,"column_start":1,"column_end":4}},{"value":"/ # Customization","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7626,"byte_end":7645,"line_start":133,"line_end":133,"column_start":1,"column_end":20}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7646,"byte_end":7649,"line_start":134,"line_end":134,"column_start":1,"column_end":4}},{"value":"/ While the default [`ArcSwap`][ArcSwap] and [`load`][load] is probably good enough for most of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7650,"byte_end":7747,"line_start":135,"line_end":135,"column_start":1,"column_end":98}},{"value":"/ the needs, the library allows a wide range of customizations:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7748,"byte_end":7813,"line_start":136,"line_end":136,"column_start":1,"column_end":66}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7814,"byte_end":7817,"line_start":137,"line_end":137,"column_start":1,"column_end":4}},{"value":"/ * It allows storing nullable (`Option<Arc<_>>`) and non-nullable pointers.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7818,"byte_end":7896,"line_start":138,"line_end":138,"column_start":1,"column_end":79}},{"value":"/ * It is possible to store other reference counted pointers (eg. if you want to use it with a","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7897,"byte_end":7993,"line_start":139,"line_end":139,"column_start":1,"column_end":97}},{"value":"/   hypothetical `Arc` that doesn't have weak counts), by implementing the [`RefCnt`][RefCnt]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":7994,"byte_end":8089,"line_start":140,"line_end":140,"column_start":1,"column_end":96}},{"value":"/   trait.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8090,"byte_end":8102,"line_start":141,"line_end":141,"column_start":1,"column_end":13}},{"value":"/ * It allows choosing internal fallback locking strategy by the [`LockStorage`][LockStorage]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8103,"byte_end":8198,"line_start":142,"line_end":142,"column_start":1,"column_end":96}},{"value":"/   trait.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8199,"byte_end":8211,"line_start":143,"line_end":143,"column_start":1,"column_end":13}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8212,"byte_end":8215,"line_start":144,"line_end":144,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8216,"byte_end":8230,"line_start":145,"line_end":145,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8231,"byte_end":8234,"line_start":146,"line_end":146,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8235,"byte_end":8246,"line_start":147,"line_end":147,"column_start":1,"column_end":12}},{"value":"/ extern crate arc_swap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8247,"byte_end":8273,"line_start":148,"line_end":148,"column_start":1,"column_end":27}},{"value":"/ extern crate crossbeam_utils;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8274,"byte_end":8307,"line_start":149,"line_end":149,"column_start":1,"column_end":34}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8308,"byte_end":8311,"line_start":150,"line_end":150,"column_start":1,"column_end":4}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8312,"byte_end":8335,"line_start":151,"line_end":151,"column_start":1,"column_end":24}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8336,"byte_end":8339,"line_start":152,"line_end":152,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8340,"byte_end":8366,"line_start":153,"line_end":153,"column_start":1,"column_end":27}},{"value":"/ use crossbeam_utils::thread;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8367,"byte_end":8399,"line_start":154,"line_end":154,"column_start":1,"column_end":33}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8400,"byte_end":8403,"line_start":155,"line_end":155,"column_start":1,"column_end":4}},{"value":"/ fn main() {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8404,"byte_end":8419,"line_start":156,"line_end":156,"column_start":1,"column_end":16}},{"value":"/     let config = ArcSwap::from(Arc::new(String::default()));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8420,"byte_end":8484,"line_start":157,"line_end":157,"column_start":1,"column_end":65}},{"value":"/     thread::scope(|scope| {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8485,"byte_end":8516,"line_start":158,"line_end":158,"column_start":1,"column_end":32}},{"value":"/         scope.spawn(|_| {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8517,"byte_end":8546,"line_start":159,"line_end":159,"column_start":1,"column_end":30}},{"value":"/             let new_conf = Arc::new(\"New configuration\".to_owned());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8547,"byte_end":8619,"line_start":160,"line_end":160,"column_start":1,"column_end":73}},{"value":"/             config.store(new_conf);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8620,"byte_end":8659,"line_start":161,"line_end":161,"column_start":1,"column_end":40}},{"value":"/         });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8660,"byte_end":8675,"line_start":162,"line_end":162,"column_start":1,"column_end":16}},{"value":"/         for _ in 0..10 {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8676,"byte_end":8704,"line_start":163,"line_end":163,"column_start":1,"column_end":29}},{"value":"/             scope.spawn(|_| {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8705,"byte_end":8738,"line_start":164,"line_end":164,"column_start":1,"column_end":34}},{"value":"/                 loop {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8739,"byte_end":8765,"line_start":165,"line_end":165,"column_start":1,"column_end":27}},{"value":"/                     let cfg = config.load();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8766,"byte_end":8814,"line_start":166,"line_end":166,"column_start":1,"column_end":49}},{"value":"/                     if !cfg.is_empty() {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8815,"byte_end":8859,"line_start":167,"line_end":167,"column_start":1,"column_end":45}},{"value":"/                         assert_eq!(**cfg, \"New configuration\");","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8860,"byte_end":8927,"line_start":168,"line_end":168,"column_start":1,"column_end":68}},{"value":"/                         return;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8928,"byte_end":8963,"line_start":169,"line_end":169,"column_start":1,"column_end":36}},{"value":"/                     }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8964,"byte_end":8989,"line_start":170,"line_end":170,"column_start":1,"column_end":26}},{"value":"/                 }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":8990,"byte_end":9011,"line_start":171,"line_end":171,"column_start":1,"column_end":22}},{"value":"/             });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9012,"byte_end":9031,"line_start":172,"line_end":172,"column_start":1,"column_end":20}},{"value":"/         }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9032,"byte_end":9045,"line_start":173,"line_end":173,"column_start":1,"column_end":14}},{"value":"/     }).unwrap();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9046,"byte_end":9066,"line_start":174,"line_end":174,"column_start":1,"column_end":21}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9067,"byte_end":9072,"line_start":175,"line_end":175,"column_start":1,"column_end":6}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9073,"byte_end":9080,"line_start":176,"line_end":176,"column_start":1,"column_end":8}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9081,"byte_end":9084,"line_start":177,"line_end":177,"column_start":1,"column_end":4}},{"value":"/ # Alternatives","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9085,"byte_end":9103,"line_start":178,"line_end":178,"column_start":1,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9104,"byte_end":9107,"line_start":179,"line_end":179,"column_start":1,"column_end":4}},{"value":"/ There are other means to get similar functionality you might want to consider:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9108,"byte_end":9190,"line_start":180,"line_end":180,"column_start":1,"column_end":83}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9191,"byte_end":9194,"line_start":181,"line_end":181,"column_start":1,"column_end":4}},{"value":"/ ## `Mutex<Arc<_>>` and `RwLock<Arc<_>>`","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9195,"byte_end":9238,"line_start":182,"line_end":182,"column_start":1,"column_end":44}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9239,"byte_end":9242,"line_start":183,"line_end":183,"column_start":1,"column_end":4}},{"value":"/ They have significantly worse performance in the contented scenario but are comparable in","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9243,"byte_end":9336,"line_start":184,"line_end":184,"column_start":1,"column_end":94}},{"value":"/ uncontended cases. They are directly in the standard library, which means better testing and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9337,"byte_end":9433,"line_start":185,"line_end":185,"column_start":1,"column_end":97}},{"value":"/ less dependencies.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9434,"byte_end":9456,"line_start":186,"line_end":186,"column_start":1,"column_end":23}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9457,"byte_end":9460,"line_start":187,"line_end":187,"column_start":1,"column_end":4}},{"value":"/ ## The same, but with [parking_lot]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9461,"byte_end":9500,"line_start":188,"line_end":188,"column_start":1,"column_end":40}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9501,"byte_end":9504,"line_start":189,"line_end":189,"column_start":1,"column_end":4}},{"value":"/ Parking lot contains alternative implementations of `Mutex` and `RwLock` that are faster than","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9505,"byte_end":9602,"line_start":190,"line_end":190,"column_start":1,"column_end":98}},{"value":"/ the standard library primitives. They still suffer from contention.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9603,"byte_end":9674,"line_start":191,"line_end":191,"column_start":1,"column_end":72}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9675,"byte_end":9678,"line_start":192,"line_end":192,"column_start":1,"column_end":4}},{"value":"/ ## [`crossbeam::atomic::ArcCell`]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9679,"byte_end":9716,"line_start":193,"line_end":193,"column_start":1,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9717,"byte_end":9720,"line_start":194,"line_end":194,"column_start":1,"column_end":4}},{"value":"/ This internally contains a spin-lock equivalent and is very close to the characteristics of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9721,"byte_end":9816,"line_start":195,"line_end":195,"column_start":1,"column_end":96}},{"value":"/ `parking_lot::Mutex<Arc<_>>`. This is unofficially deprecated. See the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9817,"byte_end":9891,"line_start":196,"line_end":196,"column_start":1,"column_end":75}},{"value":"/ [relevant issue](https://github.com/crossbeam-rs/crossbeam/issues/160).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9892,"byte_end":9967,"line_start":197,"line_end":197,"column_start":1,"column_end":76}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9968,"byte_end":9971,"line_start":198,"line_end":198,"column_start":1,"column_end":4}},{"value":"/ ## [`crossbeam-arccell`]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":9972,"byte_end":10000,"line_start":199,"line_end":199,"column_start":1,"column_end":29}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10001,"byte_end":10004,"line_start":200,"line_end":200,"column_start":1,"column_end":4}},{"value":"/ It is mentioned here because of the name. Despite of the name, this does something very","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10005,"byte_end":10096,"line_start":201,"line_end":201,"column_start":1,"column_end":92}},{"value":"/ different (which *might* possibly solve similar problems). It's API is not centric to `Arc` or","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10097,"byte_end":10195,"line_start":202,"line_end":202,"column_start":1,"column_end":99}},{"value":"/ any kind of pointer, but rather it has snapshots of its internal value that can be exchanged","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10196,"byte_end":10292,"line_start":203,"line_end":203,"column_start":1,"column_end":97}},{"value":"/ very fast.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10293,"byte_end":10307,"line_start":204,"line_end":204,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10308,"byte_end":10311,"line_start":205,"line_end":205,"column_start":1,"column_end":4}},{"value":"/ ## [`AtomicArc`]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10312,"byte_end":10332,"line_start":206,"line_end":206,"column_start":1,"column_end":21}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10333,"byte_end":10336,"line_start":207,"line_end":207,"column_start":1,"column_end":4}},{"value":"/ This one is probably the closest thing to [`ArcSwap`][ArcSwap] on the API level. Both read and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10337,"byte_end":10435,"line_start":208,"line_end":208,"column_start":1,"column_end":99}},{"value":"/ write operations are [lock-free], but neither is [wait-free], and the performance of reads and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10436,"byte_end":10534,"line_start":209,"line_end":209,"column_start":1,"column_end":99}},{"value":"/ writes are more balanced ‒ while [`ArcSwap`][ArcSwap] is optimized for reading, [`AtomicArc`]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10535,"byte_end":10634,"line_start":210,"line_end":210,"column_start":1,"column_end":98}},{"value":"/ is „balanced“.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10635,"byte_end":10657,"line_start":211,"line_end":211,"column_start":1,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10658,"byte_end":10661,"line_start":212,"line_end":212,"column_start":1,"column_end":4}},{"value":"/ The biggest current downside is, it is in a prototype stage and not released yet.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10662,"byte_end":10747,"line_start":213,"line_end":213,"column_start":1,"column_end":86}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10748,"byte_end":10751,"line_start":214,"line_end":214,"column_start":1,"column_end":4}},{"value":"/ # Features","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10752,"byte_end":10766,"line_start":215,"line_end":215,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10767,"byte_end":10770,"line_start":216,"line_end":216,"column_start":1,"column_end":4}},{"value":"/ The `unstable-weak` feature adds the ability to use arc-swap with the [Weak] pointer too,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10771,"byte_end":10864,"line_start":217,"line_end":217,"column_start":1,"column_end":94}},{"value":"/ through the [ArcSwapWeak] type. This requires the nightly Rust compiler. Also, the interface","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10865,"byte_end":10961,"line_start":218,"line_end":218,"column_start":1,"column_end":97}},{"value":"/ and support **is not** part of API stability guarantees and may be arbitrarily changed or","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":10962,"byte_end":11055,"line_start":219,"line_end":219,"column_start":1,"column_end":94}},{"value":"/ removed in future releases (it is mostly waiting for the `weak_into_raw` nightly feature to","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11056,"byte_end":11151,"line_start":220,"line_end":220,"column_start":1,"column_end":96}},{"value":"/ stabilize before stabilizing it in this crate).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11152,"byte_end":11203,"line_start":221,"line_end":221,"column_start":1,"column_end":52}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11204,"byte_end":11207,"line_start":222,"line_end":222,"column_start":1,"column_end":4}},{"value":"/ [Arc]: https://doc.rust-lang.org/std/sync/struct.Arc.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11208,"byte_end":11269,"line_start":223,"line_end":223,"column_start":1,"column_end":62}},{"value":"/ [Weak]: https://doc.rust-lang.org/std/sync/struct.Arc.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11270,"byte_end":11332,"line_start":224,"line_end":224,"column_start":1,"column_end":63}},{"value":"/ [RwLock]: https://doc.rust-lang.org/std/sync/struct.RwLock.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11333,"byte_end":11400,"line_start":225,"line_end":225,"column_start":1,"column_end":68}},{"value":"/ [Mutex]: https://doc.rust-lang.org/std/sync/struct.Mutex.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11401,"byte_end":11466,"line_start":226,"line_end":226,"column_start":1,"column_end":66}},{"value":"/ [AtomicPtr]: https://doc.rust-lang.org/std/sync/atomic/struct.AtomicPtr.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11467,"byte_end":11547,"line_start":227,"line_end":227,"column_start":1,"column_end":81}},{"value":"/ [ArcSwapAny]: struct.ArcSwapAny.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11548,"byte_end":11588,"line_start":228,"line_end":228,"column_start":1,"column_end":41}},{"value":"/ [ArcSwapAny]: struct.Cache.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11589,"byte_end":11624,"line_start":229,"line_end":229,"column_start":1,"column_end":36}},{"value":"/ [ArcSwap]: type.ArcSwap.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11625,"byte_end":11657,"line_start":230,"line_end":230,"column_start":1,"column_end":33}},{"value":"/ [IndependentArcSwap]: type.IndependentArcSwap.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11658,"byte_end":11712,"line_start":231,"line_end":231,"column_start":1,"column_end":55}},{"value":"/ [shared_ptr]: http://en.cppreference.com/w/cpp/memory/shared_ptr","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11713,"byte_end":11781,"line_start":232,"line_end":232,"column_start":1,"column_end":69}},{"value":"/ [lock-free]: https://en.wikipedia.org/wiki/Non-blocking_algorithm#Lock-freedom","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11782,"byte_end":11864,"line_start":233,"line_end":233,"column_start":1,"column_end":83}},{"value":"/ [wait-free]: https://en.wikipedia.org/wiki/Non-blocking_algorithm#Wait-freedom","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11865,"byte_end":11947,"line_start":234,"line_end":234,"column_start":1,"column_end":83}},{"value":"/ [load]: struct.ArcSwapAny.html#method.load","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11948,"byte_end":11994,"line_start":235,"line_end":235,"column_start":1,"column_end":47}},{"value":"/ [load_full]: struct.ArcSwapAny.html#method.load_full","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":11995,"byte_end":12051,"line_start":236,"line_end":236,"column_start":1,"column_end":57}},{"value":"/ [load_signal_safe]: struct.ArcSwapAny.html#method.peek_signal_safe","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12052,"byte_end":12122,"line_start":237,"line_end":237,"column_start":1,"column_end":71}},{"value":"/ [rcu]: struct.ArcSwapAny.html#method.rcu","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12123,"byte_end":12167,"line_start":238,"line_end":238,"column_start":1,"column_end":45}},{"value":"/ [RefCnt]: trait.RefCnt.hmtl","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12168,"byte_end":12199,"line_start":239,"line_end":239,"column_start":1,"column_end":32}},{"value":"/ [LockStorage]: gen_lock/trait.LockStorage.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12200,"byte_end":12250,"line_start":240,"line_end":240,"column_start":1,"column_end":51}},{"value":"/ [benchmarks]: https://github.com/vorner/arc-swap/tree/master/benchmarks","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12251,"byte_end":12326,"line_start":241,"line_end":241,"column_start":1,"column_end":76}},{"value":"/ [parking_lot]: https://docs.rs/parking_lot","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12327,"byte_end":12373,"line_start":242,"line_end":242,"column_start":1,"column_end":47}},{"value":"/ [ArcSwapWeak]: type.ArcSwapWeak.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12374,"byte_end":12414,"line_start":243,"line_end":243,"column_start":1,"column_end":41}},{"value":"/ [`crossbeam::atomic::ArcCell`]: https://docs.rs/crossbeam/0.5.0/crossbeam/atomic/struct.ArcCell.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12415,"byte_end":12519,"line_start":244,"line_end":244,"column_start":1,"column_end":105}},{"value":"/ [`crossbeam-arccell`]: https://docs.rs/crossbeam-arccell/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12520,"byte_end":12581,"line_start":245,"line_end":245,"column_start":1,"column_end":62}},{"value":"/ [`AtomicArc`]: https://github.com/stjepang/atomic/blob/master/src/atomic_arc.rs#L20","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12582,"byte_end":12669,"line_start":246,"line_end":246,"column_start":1,"column_end":88}}]},{"kind":"Mod","id":{"krate":0,"index":3},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1},"name":"access","qualname":"::access","value":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","parent":null,"children":[{"krate":0,"index":4},{"krate":0,"index":5},{"krate":0,"index":7},{"krate":0,"index":10},{"krate":0,"index":13},{"krate":0,"index":16},{"krate":0,"index":19},{"krate":0,"index":22},{"krate":0,"index":23},{"krate":0,"index":26},{"krate":0,"index":29},{"krate":0,"index":33},{"krate":0,"index":39},{"krate":0,"index":550},{"krate":0,"index":554},{"krate":0,"index":44},{"krate":0,"index":48},{"krate":0,"index":53},{"krate":0,"index":57},{"krate":0,"index":62},{"krate":0,"index":66},{"krate":0,"index":70},{"krate":0,"index":73},{"krate":0,"index":557},{"krate":0,"index":562},{"krate":0,"index":565},{"krate":0,"index":569},{"krate":0,"index":77},{"krate":0,"index":81},{"krate":0,"index":85},{"krate":0,"index":573},{"krate":0,"index":580},{"krate":0,"index":584},{"krate":0,"index":589},{"krate":0,"index":90},{"krate":0,"index":96},{"krate":0,"index":594},{"krate":0,"index":598},{"krate":0,"index":600},{"krate":0,"index":603},{"krate":0,"index":606},{"krate":0,"index":608},{"krate":0,"index":611},{"krate":0,"index":613},{"krate":0,"index":617},{"krate":0,"index":620},{"krate":0,"index":623},{"krate":0,"index":103},{"krate":0,"index":627},{"krate":0,"index":631},{"krate":0,"index":633},{"krate":0,"index":636},{"krate":0,"index":639},{"krate":0,"index":641},{"krate":0,"index":644},{"krate":0,"index":646},{"krate":0,"index":650},{"krate":0,"index":653},{"krate":0,"index":656},{"krate":0,"index":107}],"decl_id":null,"docs":" Abstracting over accessing parts of stored value.","sig":null,"attributes":[{"value":"/ Abstracting over accessing parts of stored value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":73966,"byte_end":74019,"line_start":1,"line_end":1,"column_start":1,"column_end":54}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74020,"byte_end":74023,"line_start":2,"line_end":2,"column_start":1,"column_end":4}},{"value":"/ Sometimes, there's a big globalish data structure (like a configuration for the whole program).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74024,"byte_end":74123,"line_start":3,"line_end":3,"column_start":1,"column_end":100}},{"value":"/ Then there are parts of the program that need access to up-to-date version of such","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74124,"byte_end":74210,"line_start":4,"line_end":4,"column_start":1,"column_end":87}},{"value":"/ configuration, but for reasons of code separation and reusability, it is not desirable to pass","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74211,"byte_end":74309,"line_start":5,"line_end":5,"column_start":1,"column_end":99}},{"value":"/ the whole configuration to each of the parts.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74310,"byte_end":74359,"line_start":6,"line_end":6,"column_start":1,"column_end":50}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74360,"byte_end":74363,"line_start":7,"line_end":7,"column_start":1,"column_end":4}},{"value":"/ This module provides means to grant the parts access to the relevant subsets of such global","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74364,"byte_end":74459,"line_start":8,"line_end":8,"column_start":1,"column_end":96}},{"value":"/ data structure while masking the fact it is part of the bigger whole from the component.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74460,"byte_end":74552,"line_start":9,"line_end":9,"column_start":1,"column_end":93}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74553,"byte_end":74556,"line_start":10,"line_end":10,"column_start":1,"column_end":4}},{"value":"/ Note that the [`cache`][::cache] module has its own [`Access`][::cache::Access] trait that","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74557,"byte_end":74651,"line_start":11,"line_end":11,"column_start":1,"column_end":95}},{"value":"/ serves a similar purpose, but with cached access. The signatures are different, therefore an","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74652,"byte_end":74748,"line_start":12,"line_end":12,"column_start":1,"column_end":97}},{"value":"/ incompatible trait.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74749,"byte_end":74772,"line_start":13,"line_end":13,"column_start":1,"column_end":24}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74773,"byte_end":74776,"line_start":14,"line_end":14,"column_start":1,"column_end":4}},{"value":"/ # The general idea","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74777,"byte_end":74799,"line_start":15,"line_end":15,"column_start":1,"column_end":23}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74800,"byte_end":74803,"line_start":16,"line_end":16,"column_start":1,"column_end":4}},{"value":"/ Each part of the code accepts generic [`Access<T>`][Access] for the `T` of its interest. This","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74804,"byte_end":74901,"line_start":17,"line_end":17,"column_start":1,"column_end":98}},{"value":"/ provides means to load current version of the structure behind the scenes and get only the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74902,"byte_end":74996,"line_start":18,"line_end":18,"column_start":1,"column_end":95}},{"value":"/ relevant part, without knowing what the big structure is.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":74997,"byte_end":75058,"line_start":19,"line_end":19,"column_start":1,"column_end":62}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75059,"byte_end":75062,"line_start":20,"line_end":20,"column_start":1,"column_end":4}},{"value":"/ For technical reasons, the [`Access`] trait is not object safe. If type erasure is desired, it","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75063,"byte_end":75161,"line_start":21,"line_end":21,"column_start":1,"column_end":99}},{"value":"/ is possible use the [`DynAccess`][::access::DynAccess] instead, which is object safe, but","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75162,"byte_end":75255,"line_start":22,"line_end":22,"column_start":1,"column_end":94}},{"value":"/ slightly slower.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75256,"byte_end":75276,"line_start":23,"line_end":23,"column_start":1,"column_end":21}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75277,"byte_end":75280,"line_start":24,"line_end":24,"column_start":1,"column_end":4}},{"value":"/ For some cases, it is possible to use [`ArcSwapAny::map`]. If that is not flexible enough, the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75281,"byte_end":75379,"line_start":25,"line_end":25,"column_start":1,"column_end":99}},{"value":"/ [`Map`] type can be created directly.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75380,"byte_end":75421,"line_start":26,"line_end":26,"column_start":1,"column_end":42}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75422,"byte_end":75425,"line_start":27,"line_end":27,"column_start":1,"column_end":4}},{"value":"/ Note that the [`Access`] trait is also implemented for [`ArcSwapAny`] itself. Additionally,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75426,"byte_end":75521,"line_start":28,"line_end":28,"column_start":1,"column_end":96}},{"value":"/ there's the [`Constant`][::access::Constant] helper type, which is useful mostly for testing","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75522,"byte_end":75618,"line_start":29,"line_end":29,"column_start":1,"column_end":97}},{"value":"/ (it doesn't allow reloading).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75619,"byte_end":75652,"line_start":30,"line_end":30,"column_start":1,"column_end":34}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75653,"byte_end":75656,"line_start":31,"line_end":31,"column_start":1,"column_end":4}},{"value":"/ # Performance","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75657,"byte_end":75674,"line_start":32,"line_end":32,"column_start":1,"column_end":18}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75675,"byte_end":75678,"line_start":33,"line_end":33,"column_start":1,"column_end":4}},{"value":"/ In general, these utilities use [`ArcSwapAny::load`] internally and then apply the provided","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75679,"byte_end":75774,"line_start":34,"line_end":34,"column_start":1,"column_end":96}},{"value":"/ transformation. This has several consequences:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75775,"byte_end":75825,"line_start":35,"line_end":35,"column_start":1,"column_end":51}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75826,"byte_end":75829,"line_start":36,"line_end":36,"column_start":1,"column_end":4}},{"value":"/ * Limitations of the [`load`][ArcSwapAny::load] apply ‒ including the recommendation to not","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75830,"byte_end":75927,"line_start":37,"line_end":37,"column_start":1,"column_end":96}},{"value":"/   hold the returned guard object for too long, but long enough to get consistency.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":75928,"byte_end":76014,"line_start":38,"line_end":38,"column_start":1,"column_end":87}},{"value":"/ * The transformation should be cheap ‒ optimally just borrowing into the structure.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76015,"byte_end":76104,"line_start":39,"line_end":39,"column_start":1,"column_end":88}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76105,"byte_end":76108,"line_start":40,"line_end":40,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76109,"byte_end":76123,"line_start":41,"line_end":41,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76124,"byte_end":76127,"line_start":42,"line_end":42,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76128,"byte_end":76139,"line_start":43,"line_end":43,"column_start":1,"column_end":12}},{"value":"/ extern crate arc_swap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76140,"byte_end":76166,"line_start":44,"line_end":44,"column_start":1,"column_end":27}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76167,"byte_end":76170,"line_start":45,"line_end":45,"column_start":1,"column_end":4}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76171,"byte_end":76194,"line_start":46,"line_end":46,"column_start":1,"column_end":24}},{"value":"/ use std::thread;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76195,"byte_end":76215,"line_start":47,"line_end":47,"column_start":1,"column_end":21}},{"value":"/ use std::time::Duration;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76216,"byte_end":76244,"line_start":48,"line_end":48,"column_start":1,"column_end":29}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76245,"byte_end":76248,"line_start":49,"line_end":49,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76249,"byte_end":76275,"line_start":50,"line_end":50,"column_start":1,"column_end":27}},{"value":"/ use arc_swap::access::{Access, Constant, Map};","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76276,"byte_end":76326,"line_start":51,"line_end":51,"column_start":1,"column_end":51}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76327,"byte_end":76330,"line_start":52,"line_end":52,"column_start":1,"column_end":4}},{"value":"/ fn work_with_usize<A: Access<usize> + Send + 'static>(a: A) {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76331,"byte_end":76396,"line_start":53,"line_end":53,"column_start":1,"column_end":66}},{"value":"/     thread::spawn(move || {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76397,"byte_end":76428,"line_start":54,"line_end":54,"column_start":1,"column_end":32}},{"value":"/         loop {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76429,"byte_end":76447,"line_start":55,"line_end":55,"column_start":1,"column_end":19}},{"value":"/             let value = a.load();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76448,"byte_end":76485,"line_start":56,"line_end":56,"column_start":1,"column_end":38}},{"value":"/             println!(\"{}\", *value);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76486,"byte_end":76525,"line_start":57,"line_end":57,"column_start":1,"column_end":40}},{"value":"/             // Not strictly necessary, but dropping the guard can free some resources, like","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76526,"byte_end":76621,"line_start":58,"line_end":58,"column_start":1,"column_end":96}},{"value":"/             // slots for tracking what values are still in use. We do it before the sleeping,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76622,"byte_end":76719,"line_start":59,"line_end":59,"column_start":1,"column_end":98}},{"value":"/             // not at the end of the scope.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76720,"byte_end":76767,"line_start":60,"line_end":60,"column_start":1,"column_end":48}},{"value":"/             drop(value);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76768,"byte_end":76796,"line_start":61,"line_end":61,"column_start":1,"column_end":29}},{"value":"/             thread::sleep(Duration::from_millis(50));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76797,"byte_end":76854,"line_start":62,"line_end":62,"column_start":1,"column_end":58}},{"value":"/         }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76855,"byte_end":76868,"line_start":63,"line_end":63,"column_start":1,"column_end":14}},{"value":"/     });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76869,"byte_end":76880,"line_start":64,"line_end":64,"column_start":1,"column_end":12}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76881,"byte_end":76886,"line_start":65,"line_end":65,"column_start":1,"column_end":6}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76887,"byte_end":76890,"line_start":66,"line_end":66,"column_start":1,"column_end":4}},{"value":"/ // Passing the whole thing directly","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76891,"byte_end":76930,"line_start":67,"line_end":67,"column_start":1,"column_end":40}},{"value":"/ // (If we kept another Arc to it, we could change the value behind the scenes)","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":76931,"byte_end":77013,"line_start":68,"line_end":68,"column_start":1,"column_end":83}},{"value":"/ work_with_usize(Arc::new(ArcSwap::from_pointee(42)));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77014,"byte_end":77071,"line_start":69,"line_end":69,"column_start":1,"column_end":58}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77072,"byte_end":77075,"line_start":70,"line_end":70,"column_start":1,"column_end":4}},{"value":"/ // Passing a subset of a structure","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77076,"byte_end":77114,"line_start":71,"line_end":71,"column_start":1,"column_end":39}},{"value":"/ struct Cfg {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77115,"byte_end":77131,"line_start":72,"line_end":72,"column_start":1,"column_end":17}},{"value":"/     value: usize,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77132,"byte_end":77153,"line_start":73,"line_end":73,"column_start":1,"column_end":22}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77154,"byte_end":77159,"line_start":74,"line_end":74,"column_start":1,"column_end":6}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77160,"byte_end":77163,"line_start":75,"line_end":75,"column_start":1,"column_end":4}},{"value":"/ let cfg = Arc::new(ArcSwap::from_pointee(Cfg { value: 0 }));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77164,"byte_end":77228,"line_start":76,"line_end":76,"column_start":1,"column_end":65}},{"value":"/ work_with_usize(Map::new(Arc::clone(&cfg), |cfg: &Cfg| &cfg.value));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77229,"byte_end":77301,"line_start":77,"line_end":77,"column_start":1,"column_end":73}},{"value":"/ cfg.store(Arc::new(Cfg { value: 42 }));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77302,"byte_end":77345,"line_start":78,"line_end":78,"column_start":1,"column_end":44}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77346,"byte_end":77349,"line_start":79,"line_end":79,"column_start":1,"column_end":4}},{"value":"/ // Passing a constant that can't change. Useful mostly for testing purposes.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77350,"byte_end":77430,"line_start":80,"line_end":80,"column_start":1,"column_end":81}},{"value":"/ work_with_usize(Constant(42));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77431,"byte_end":77465,"line_start":81,"line_end":81,"column_start":1,"column_end":35}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77466,"byte_end":77473,"line_start":82,"line_end":82,"column_start":1,"column_end":8}}]},{"kind":"Trait","id":{"krate":0,"index":29},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77903,"byte_end":77909,"line_start":97,"line_end":97,"column_start":11,"column_end":17},"name":"Access","qualname":"::access::Access","value":"Access<T>","parent":null,"children":[{"krate":0,"index":31},{"krate":0,"index":32}],"decl_id":null,"docs":" Abstracts over ways code can get access to a value of type `T`.","sig":null,"attributes":[{"value":"/ Abstracts over ways code can get access to a value of type `T`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77659,"byte_end":77726,"line_start":93,"line_end":93,"column_start":1,"column_end":68}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77727,"byte_end":77730,"line_start":94,"line_end":94,"column_start":1,"column_end":4}},{"value":"/ This is the trait that parts of code will use when accessing a subpart of the big data","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77731,"byte_end":77821,"line_start":95,"line_end":95,"column_start":1,"column_end":91}},{"value":"/ structure. See the [module documentation](index.html) for details.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77822,"byte_end":77892,"line_start":96,"line_end":96,"column_start":1,"column_end":71}}]},{"kind":"Type","id":{"krate":0,"index":31},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78204,"byte_end":78209,"line_start":103,"line_end":103,"column_start":10,"column_end":15},"name":"Guard","qualname":"::access::Access::Guard","value":"type Guard: Deref<Target = T>;","parent":{"krate":0,"index":29},"children":[],"decl_id":null,"docs":" A guard object containing the value and keeping it alive.","sig":null,"attributes":[{"value":"/ A guard object containing the value and keeping it alive.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77919,"byte_end":77980,"line_start":98,"line_end":98,"column_start":5,"column_end":66}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77985,"byte_end":77988,"line_start":99,"line_end":99,"column_start":5,"column_end":8}},{"value":"/ For technical reasons, the library doesn't allow direct access into the stored value. A","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":77993,"byte_end":78084,"line_start":100,"line_end":100,"column_start":5,"column_end":96}},{"value":"/ temporary guard object must be loaded, that keeps the actual value alive for the time of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78089,"byte_end":78181,"line_start":101,"line_end":101,"column_start":5,"column_end":97}},{"value":"/ use.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78186,"byte_end":78194,"line_start":102,"line_end":102,"column_start":5,"column_end":13}}]},{"kind":"Method","id":{"krate":0,"index":32},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78399,"byte_end":78403,"line_start":109,"line_end":109,"column_start":8,"column_end":12},"name":"load","qualname":"::access::Access::load","value":"pub fn load(&Self) -> Self::Guard","parent":{"krate":0,"index":29},"children":[],"decl_id":null,"docs":" The loading method.","sig":null,"attributes":[{"value":"/ The loading method.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78235,"byte_end":78258,"line_start":105,"line_end":105,"column_start":5,"column_end":28}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78263,"byte_end":78266,"line_start":106,"line_end":106,"column_start":5,"column_end":8}},{"value":"/ This returns the guard that holds the actual value. Should be called anew each time a fresh","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78271,"byte_end":78366,"line_start":107,"line_end":107,"column_start":5,"column_end":100}},{"value":"/ value is needed.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78371,"byte_end":78391,"line_start":108,"line_end":108,"column_start":5,"column_end":25}}]},{"kind":"Struct","id":{"krate":0,"index":550},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78875,"byte_end":78886,"line_start":131,"line_end":131,"column_start":12,"column_end":23},"name":"DirectDeref","qualname":"::access::DirectDeref","value":"","parent":null,"children":[],"decl_id":null,"docs":" Plumbing type.","sig":null,"attributes":[{"value":"/ Plumbing type.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78759,"byte_end":78777,"line_start":127,"line_end":127,"column_start":1,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78778,"byte_end":78781,"line_start":128,"line_end":128,"column_start":1,"column_end":4}},{"value":"/ Accessible, but not expected to be used directly in general.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78782,"byte_end":78846,"line_start":129,"line_end":129,"column_start":1,"column_end":65}}]},{"kind":"Struct","id":{"krate":0,"index":62},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79654,"byte_end":79662,"line_start":164,"line_end":164,"column_start":12,"column_end":20},"name":"DynGuard","qualname":"::access::DynGuard","value":"","parent":null,"children":[],"decl_id":null,"docs":" Plumbing type.","sig":null,"attributes":[{"value":"/ Plumbing type.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79530,"byte_end":79548,"line_start":161,"line_end":161,"column_start":1,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79549,"byte_end":79552,"line_start":162,"line_end":162,"column_start":1,"column_end":4}},{"value":"/ This is the guard of [`DynAccess`] trait. It is effectively `Box<Deref<Target = T>>`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79553,"byte_end":79642,"line_start":163,"line_end":163,"column_start":1,"column_end":90}}]},{"kind":"Trait","id":{"krate":0,"index":70},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80610,"byte_end":80619,"line_start":199,"line_end":199,"column_start":11,"column_end":20},"name":"DynAccess","qualname":"::access::DynAccess","value":"DynAccess<T>","parent":null,"children":[{"krate":0,"index":72}],"decl_id":null,"docs":" An object-safe version of the [`Access`] trait.","sig":null,"attributes":[{"value":"/ An object-safe version of the [`Access`] trait.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79814,"byte_end":79865,"line_start":173,"line_end":173,"column_start":1,"column_end":52}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79866,"byte_end":79869,"line_start":174,"line_end":174,"column_start":1,"column_end":4}},{"value":"/ This can be used instead of the [`Access`] trait in case a type erasure is desired. This has","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79870,"byte_end":79966,"line_start":175,"line_end":175,"column_start":1,"column_end":97}},{"value":"/ the effect of performance hit (due to boxing of the result and due to dynamic dispatch), but","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79967,"byte_end":80063,"line_start":176,"line_end":176,"column_start":1,"column_end":97}},{"value":"/ makes certain code simpler and possibly makes the executable smaller.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80064,"byte_end":80137,"line_start":177,"line_end":177,"column_start":1,"column_end":74}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80138,"byte_end":80141,"line_start":178,"line_end":178,"column_start":1,"column_end":4}},{"value":"/ This is automatically implemented for everything that implements [`Access`].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80142,"byte_end":80222,"line_start":179,"line_end":179,"column_start":1,"column_end":81}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80223,"byte_end":80226,"line_start":180,"line_end":180,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80227,"byte_end":80241,"line_start":181,"line_end":181,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80242,"byte_end":80245,"line_start":182,"line_end":182,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80246,"byte_end":80257,"line_start":183,"line_end":183,"column_start":1,"column_end":12}},{"value":"/ extern crate arc_swap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80258,"byte_end":80284,"line_start":184,"line_end":184,"column_start":1,"column_end":27}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80285,"byte_end":80288,"line_start":185,"line_end":185,"column_start":1,"column_end":4}},{"value":"/ use std::thread;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80289,"byte_end":80309,"line_start":186,"line_end":186,"column_start":1,"column_end":21}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80310,"byte_end":80313,"line_start":187,"line_end":187,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::access::{Constant, DynAccess};","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80314,"byte_end":80362,"line_start":188,"line_end":188,"column_start":1,"column_end":49}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80363,"byte_end":80366,"line_start":189,"line_end":189,"column_start":1,"column_end":4}},{"value":"/ fn do_something(value: Box<dyn DynAccess<usize> + Send>) {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80367,"byte_end":80429,"line_start":190,"line_end":190,"column_start":1,"column_end":63}},{"value":"/     thread::spawn(move || {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80430,"byte_end":80461,"line_start":191,"line_end":191,"column_start":1,"column_end":32}},{"value":"/         let v = value.load();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80462,"byte_end":80495,"line_start":192,"line_end":192,"column_start":1,"column_end":34}},{"value":"/         println!(\"{}\", *v);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80496,"byte_end":80527,"line_start":193,"line_end":193,"column_start":1,"column_end":32}},{"value":"/     });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80528,"byte_end":80539,"line_start":194,"line_end":194,"column_start":1,"column_end":12}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80540,"byte_end":80545,"line_start":195,"line_end":195,"column_start":1,"column_end":6}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80546,"byte_end":80549,"line_start":196,"line_end":196,"column_start":1,"column_end":4}},{"value":"/ do_something(Box::new(Constant(42)));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80550,"byte_end":80591,"line_start":197,"line_end":197,"column_start":1,"column_end":42}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80592,"byte_end":80599,"line_start":198,"line_end":198,"column_start":1,"column_end":8}}]},{"kind":"Method","id":{"krate":0,"index":72},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80676,"byte_end":80680,"line_start":201,"line_end":201,"column_start":8,"column_end":12},"name":"load","qualname":"::access::DynAccess::load","value":"pub fn load(&Self) -> DynGuard<T>","parent":{"krate":0,"index":70},"children":[],"decl_id":null,"docs":" The equivalent of [`Access::load`].\n","sig":null,"attributes":[{"value":"/ The equivalent of [`Access::load`].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80629,"byte_end":80668,"line_start":200,"line_end":200,"column_start":5,"column_end":44}}]},{"kind":"Struct","id":{"krate":0,"index":557},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":81070,"byte_end":81078,"line_start":219,"line_end":219,"column_start":12,"column_end":20},"name":"MapGuard","qualname":"::access::MapGuard","value":"MapGuard {  }","parent":null,"children":[{"krate":0,"index":560},{"krate":0,"index":561}],"decl_id":null,"docs":" A plumbing type.","sig":null,"attributes":[{"value":"/ A plumbing type.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80878,"byte_end":80898,"line_start":214,"line_end":214,"column_start":1,"column_end":21}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80899,"byte_end":80902,"line_start":215,"line_end":215,"column_start":1,"column_end":4}},{"value":"/ This is the guard type for [`Map`]. It is accessible and nameable, but is not expected to be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80903,"byte_end":80999,"line_start":216,"line_end":216,"column_start":1,"column_end":97}},{"value":"/ generally used directly.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":81000,"byte_end":81028,"line_start":217,"line_end":217,"column_start":1,"column_end":29}}]},{"kind":"Struct","id":{"krate":0,"index":573},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82360,"byte_end":82363,"line_start":260,"line_end":260,"column_start":12,"column_end":15},"name":"Map","qualname":"::access::Map","value":"Map {  }","parent":null,"children":[{"krate":0,"index":577},{"krate":0,"index":578},{"krate":0,"index":579}],"decl_id":null,"docs":" An adaptor to provide access to a part of larger structure.","sig":null,"attributes":[{"value":"/ An adaptor to provide access to a part of larger structure.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82141,"byte_end":82204,"line_start":255,"line_end":255,"column_start":1,"column_end":64}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82205,"byte_end":82208,"line_start":256,"line_end":256,"column_start":1,"column_end":4}},{"value":"/ This is the *active* part of this module. Use the [module documentation](index.html) for the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82209,"byte_end":82305,"line_start":257,"line_end":257,"column_start":1,"column_end":97}},{"value":"/ details.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82306,"byte_end":82318,"line_start":258,"line_end":258,"column_start":1,"column_end":13}}]},{"kind":"Method","id":{"krate":0,"index":94},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83100,"byte_end":83103,"line_start":278,"line_end":278,"column_start":12,"column_end":15},"name":"new","qualname":"<Map<A, T, F>>::new","value":"pub fn new<R>(A, F) -> Self where F: Fn(&T) -> &R","parent":null,"children":[],"decl_id":null,"docs":" Creates a new instance.","sig":null,"attributes":[{"value":"/ Creates a new instance.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82477,"byte_end":82504,"line_start":267,"line_end":267,"column_start":5,"column_end":32}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82509,"byte_end":82512,"line_start":268,"line_end":268,"column_start":5,"column_end":8}},{"value":"/ # Parameters","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82517,"byte_end":82533,"line_start":269,"line_end":269,"column_start":5,"column_end":21}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82538,"byte_end":82541,"line_start":270,"line_end":270,"column_start":5,"column_end":8}},{"value":"/ * `access`: Access to the bigger structure. This is usually something like `Arc<ArcSwap>`","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82546,"byte_end":82639,"line_start":271,"line_end":271,"column_start":5,"column_end":98}},{"value":"/   or `&ArcSwap`. It is technically possible to use any other [`Access`] here, though, for","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82644,"byte_end":82737,"line_start":272,"line_end":272,"column_start":5,"column_end":98}},{"value":"/   example to sub-delegate into even smaller structure from a [`Map`] (or generic","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82742,"byte_end":82826,"line_start":273,"line_end":273,"column_start":5,"column_end":89}},{"value":"/   [`Access`]).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82831,"byte_end":82849,"line_start":274,"line_end":274,"column_start":5,"column_end":23}},{"value":"/ * `projection`: A function (or closure) responsible to providing a reference into the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82854,"byte_end":82943,"line_start":275,"line_end":275,"column_start":5,"column_end":94}},{"value":"/   bigger bigger structure, selecting just subset of it. In general, it is expected to be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82948,"byte_end":83040,"line_start":276,"line_end":276,"column_start":5,"column_end":97}},{"value":"/   *cheap* (like only taking reference).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83045,"byte_end":83088,"line_start":277,"line_end":277,"column_start":5,"column_end":48}}]},{"kind":"Struct","id":{"krate":0,"index":594},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83858,"byte_end":83871,"line_start":311,"line_end":311,"column_start":12,"column_end":25},"name":"ConstantDeref","qualname":"::access::ConstantDeref","value":"","parent":null,"children":[],"decl_id":null,"docs":" A plumbing type.","sig":null,"attributes":[{"value":"/ A plumbing type.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83636,"byte_end":83656,"line_start":306,"line_end":306,"column_start":1,"column_end":21}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83657,"byte_end":83660,"line_start":307,"line_end":307,"column_start":1,"column_end":4}},{"value":"/ This is the guard type for [`Constant`]. It is accessible, but is not expected to be generally","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83661,"byte_end":83759,"line_start":308,"line_end":308,"column_start":1,"column_end":99}},{"value":"/ used directly.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83760,"byte_end":83778,"line_start":309,"line_end":309,"column_start":1,"column_end":19}}]},{"kind":"Struct","id":{"krate":0,"index":627},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84457,"byte_end":84465,"line_start":329,"line_end":329,"column_start":12,"column_end":20},"name":"Constant","qualname":"::access::Constant","value":"","parent":null,"children":[],"decl_id":null,"docs":" Access to an constant.","sig":null,"attributes":[{"value":"/ Access to an constant.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83991,"byte_end":84017,"line_start":320,"line_end":320,"column_start":1,"column_end":27}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84018,"byte_end":84021,"line_start":321,"line_end":321,"column_start":1,"column_end":4}},{"value":"/ This wraps a constant value to provide [`Access`] to it. It is constant in the sense that,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84022,"byte_end":84116,"line_start":322,"line_end":322,"column_start":1,"column_end":95}},{"value":"/ unlike [`ArcSwapAny`] and [`Map`], the loaded value will always stay the same (there's no","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84117,"byte_end":84210,"line_start":323,"line_end":323,"column_start":1,"column_end":94}},{"value":"/ remote `store`).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84211,"byte_end":84231,"line_start":324,"line_end":324,"column_start":1,"column_end":21}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84232,"byte_end":84235,"line_start":325,"line_end":325,"column_start":1,"column_end":4}},{"value":"/ The purpose is mostly testing and plugging a parameter that works generically from code that","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84236,"byte_end":84332,"line_start":326,"line_end":326,"column_start":1,"column_end":97}},{"value":"/ doesn't need the updating functionality.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84333,"byte_end":84377,"line_start":327,"line_end":327,"column_start":1,"column_end":45}}]},{"kind":"Field","id":{"krate":0,"index":630},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84469,"byte_end":84474,"line_start":329,"line_end":329,"column_start":24,"column_end":29},"name":"0","qualname":"::access::Constant::0","value":"T","parent":{"krate":0,"index":627},"children":[],"decl_id":null,"docs":"","sig":null,"attributes":[]},{"kind":"Trait","id":{"krate":0,"index":119},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88296,"byte_end":88301,"line_start":25,"line_end":25,"column_start":11,"column_end":16},"name":"AsRaw","qualname":"::as_raw::AsRaw","value":"AsRaw<T>","parent":null,"children":[{"krate":0,"index":121}],"decl_id":null,"docs":" A trait describing things that can be turned into a raw pointer.","sig":null,"attributes":[{"value":"/ A trait describing things that can be turned into a raw pointer.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87539,"byte_end":87607,"line_start":3,"line_end":3,"column_start":1,"column_end":69}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87608,"byte_end":87611,"line_start":4,"line_end":4,"column_start":1,"column_end":4}},{"value":"/ This is just an abstraction of things that can be passed to the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87612,"byte_end":87679,"line_start":5,"line_end":5,"column_start":1,"column_end":68}},{"value":"/ [`compare_and_swap`](struct.ArcSwapAny.html#method.compare_and_swap).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87680,"byte_end":87753,"line_start":6,"line_end":6,"column_start":1,"column_end":74}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87754,"byte_end":87757,"line_start":7,"line_end":7,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87758,"byte_end":87772,"line_start":8,"line_end":8,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87773,"byte_end":87776,"line_start":9,"line_end":9,"column_start":1,"column_end":4}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87777,"byte_end":87784,"line_start":10,"line_end":10,"column_start":1,"column_end":8}},{"value":"/ use std::ptr;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87785,"byte_end":87802,"line_start":11,"line_end":11,"column_start":1,"column_end":18}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87803,"byte_end":87826,"line_start":12,"line_end":12,"column_start":1,"column_end":24}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87827,"byte_end":87830,"line_start":13,"line_end":13,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::ArcSwapOption;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87831,"byte_end":87863,"line_start":14,"line_end":14,"column_start":1,"column_end":33}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87864,"byte_end":87867,"line_start":15,"line_end":15,"column_start":1,"column_end":4}},{"value":"/ let a = Arc::new(42);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87868,"byte_end":87893,"line_start":16,"line_end":16,"column_start":1,"column_end":26}},{"value":"/ let shared = ArcSwapOption::from(Some(Arc::clone(&a)));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87894,"byte_end":87953,"line_start":17,"line_end":17,"column_start":1,"column_end":60}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87954,"byte_end":87957,"line_start":18,"line_end":18,"column_start":1,"column_end":4}},{"value":"/ shared.compare_and_swap(&a, Some(Arc::clone(&a)));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":87958,"byte_end":88012,"line_start":19,"line_end":19,"column_start":1,"column_end":55}},{"value":"/ shared.compare_and_swap(&None::<Arc<_>>, Some(Arc::clone(&a)));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88013,"byte_end":88080,"line_start":20,"line_end":20,"column_start":1,"column_end":68}},{"value":"/ shared.compare_and_swap(shared.load(), Some(Arc::clone(&a)));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88081,"byte_end":88146,"line_start":21,"line_end":21,"column_start":1,"column_end":66}},{"value":"/ shared.compare_and_swap(&shared.load(), Some(Arc::clone(&a)));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88147,"byte_end":88213,"line_start":22,"line_end":22,"column_start":1,"column_end":67}},{"value":"/ shared.compare_and_swap(ptr::null(), Some(Arc::clone(&a)));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88214,"byte_end":88277,"line_start":23,"line_end":23,"column_start":1,"column_end":64}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88278,"byte_end":88285,"line_start":24,"line_end":24,"column_start":1,"column_end":8}}]},{"kind":"Method","id":{"krate":0,"index":121},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88361,"byte_end":88367,"line_start":27,"line_end":27,"column_start":8,"column_end":14},"name":"as_raw","qualname":"::as_raw::AsRaw::as_raw","value":"pub fn as_raw(&Self) -> *mut T","parent":{"krate":0,"index":119},"children":[],"decl_id":null,"docs":" Converts the value into a raw pointer.\n","sig":null,"attributes":[{"value":"/ Converts the value into a raw pointer.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88311,"byte_end":88353,"line_start":26,"line_end":26,"column_start":5,"column_end":47}}]},{"kind":"Mod","id":{"krate":0,"index":140},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1},"name":"cache","qualname":"::cache","value":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","parent":null,"children":[{"krate":0,"index":141},{"krate":0,"index":144},{"krate":0,"index":147},{"krate":0,"index":150},{"krate":0,"index":153},{"krate":0,"index":156},{"krate":0,"index":660},{"krate":0,"index":665},{"krate":0,"index":669},{"krate":0,"index":159},{"krate":0,"index":171},{"krate":0,"index":176},{"krate":0,"index":673},{"krate":0,"index":679},{"krate":0,"index":684},{"krate":0,"index":181}],"decl_id":null,"docs":" Caching handle into the [ArcSwapAny].","sig":null,"attributes":[{"value":"deny(unsafe_code)","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":88962,"byte_end":88983,"line_start":1,"line_end":1,"column_start":1,"column_end":22}},{"value":"/ Caching handle into the [ArcSwapAny].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":88984,"byte_end":89025,"line_start":2,"line_end":2,"column_start":1,"column_end":42}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89026,"byte_end":89029,"line_start":3,"line_end":3,"column_start":1,"column_end":4}},{"value":"/ The [Cache] keeps a copy of the internal [Arc] for faster access.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89030,"byte_end":89099,"line_start":4,"line_end":4,"column_start":1,"column_end":70}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89100,"byte_end":89103,"line_start":5,"line_end":5,"column_start":1,"column_end":4}},{"value":"/ [Cache]: cache::Cache","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89104,"byte_end":89129,"line_start":6,"line_end":6,"column_start":1,"column_end":26}},{"value":"/ [Arc]: std::sync::Arc","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89130,"byte_end":89155,"line_start":7,"line_end":7,"column_start":1,"column_end":26}}]},{"kind":"Trait","id":{"krate":0,"index":156},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89625,"byte_end":89631,"line_start":23,"line_end":23,"column_start":11,"column_end":17},"name":"Access","qualname":"::cache::Access","value":"Access<T>","parent":null,"children":[{"krate":0,"index":158}],"decl_id":null,"docs":" Generalization of caches providing access to `T`.","sig":null,"attributes":[{"value":"/ Generalization of caches providing access to `T`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89298,"byte_end":89351,"line_start":16,"line_end":16,"column_start":1,"column_end":54}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89352,"byte_end":89355,"line_start":17,"line_end":17,"column_start":1,"column_end":4}},{"value":"/ This abstracts over all kinds of caches that can provide a cheap access to values of type `T`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89356,"byte_end":89454,"line_start":18,"line_end":18,"column_start":1,"column_end":99}},{"value":"/ This is useful in cases where some code doesn't care if the `T` is the whole structure or just","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89455,"byte_end":89553,"line_start":19,"line_end":19,"column_start":1,"column_end":99}},{"value":"/ a part of it.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89554,"byte_end":89571,"line_start":20,"line_end":20,"column_start":1,"column_end":18}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89572,"byte_end":89575,"line_start":21,"line_end":21,"column_start":1,"column_end":4}},{"value":"/ See the example at [`Cache::map`].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89576,"byte_end":89614,"line_start":22,"line_end":22,"column_start":1,"column_end":39}}]},{"kind":"Method","id":{"krate":0,"index":158},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89783,"byte_end":89787,"line_start":27,"line_end":27,"column_start":8,"column_end":12},"name":"load","qualname":"::cache::Access::load","value":"pub fn load(&mut Self) -> &T","parent":{"krate":0,"index":156},"children":[],"decl_id":null,"docs":" Loads the value from cache.","sig":null,"attributes":[{"value":"/ Loads the value from cache.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89641,"byte_end":89672,"line_start":24,"line_end":24,"column_start":5,"column_end":36}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89677,"byte_end":89680,"line_start":25,"line_end":25,"column_start":5,"column_end":8}},{"value":"/ This revalidates the value in the cache, then provides the access to the cached value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89685,"byte_end":89775,"line_start":26,"line_end":26,"column_start":5,"column_end":95}}]},{"kind":"Struct","id":{"krate":0,"index":660},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91545,"byte_end":91550,"line_start":74,"line_end":74,"column_start":12,"column_end":17},"name":"Cache","qualname":"::cache::Cache","value":"Cache {  }","parent":null,"children":[{"krate":0,"index":663},{"krate":0,"index":664}],"decl_id":null,"docs":" Caching handle for [`ArcSwapAny`][ArcSwapAny].","sig":null,"attributes":[{"value":"/ Caching handle for [`ArcSwapAny`][ArcSwapAny].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89809,"byte_end":89859,"line_start":30,"line_end":30,"column_start":1,"column_end":51}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89860,"byte_end":89863,"line_start":31,"line_end":31,"column_start":1,"column_end":4}},{"value":"/ Instead of loading the [`Arc`][Arc] on every request from the shared storage, this keeps","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89864,"byte_end":89956,"line_start":32,"line_end":32,"column_start":1,"column_end":93}},{"value":"/ another copy inside itself. Upon request it only cheaply revalidates it is up to","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":89957,"byte_end":90041,"line_start":33,"line_end":33,"column_start":1,"column_end":85}},{"value":"/ date. If it is, access is significantly faster. If it is stale, the [load_full] is done and the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90042,"byte_end":90141,"line_start":34,"line_end":34,"column_start":1,"column_end":100}},{"value":"/ cache value is replaced. Under a read-heavy loads, the measured speedup are 10-25 times,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90142,"byte_end":90234,"line_start":35,"line_end":35,"column_start":1,"column_end":93}},{"value":"/ depending on the architecture.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90235,"byte_end":90269,"line_start":36,"line_end":36,"column_start":1,"column_end":35}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90270,"byte_end":90273,"line_start":37,"line_end":37,"column_start":1,"column_end":4}},{"value":"/ There are, however, downsides:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90274,"byte_end":90308,"line_start":38,"line_end":38,"column_start":1,"column_end":35}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90309,"byte_end":90312,"line_start":39,"line_end":39,"column_start":1,"column_end":4}},{"value":"/ * The handle needs to be kept around by the caller (usually, one per thread). This is fine if","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90313,"byte_end":90410,"line_start":40,"line_end":40,"column_start":1,"column_end":98}},{"value":"/   there's one global `ArcSwapAny`, but starts being tricky with eg. data structures build from","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90411,"byte_end":90509,"line_start":41,"line_end":41,"column_start":1,"column_end":99}},{"value":"/   them.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90510,"byte_end":90521,"line_start":42,"line_end":42,"column_start":1,"column_end":12}},{"value":"/ * As it keeps a copy of the [Arc] inside the cache, the old value may be kept alive for longer","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90522,"byte_end":90620,"line_start":43,"line_end":43,"column_start":1,"column_end":99}},{"value":"/   period of time ‒ it is replaced by the new value on [load][Cache::load]. You may not want to","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90621,"byte_end":90721,"line_start":44,"line_end":44,"column_start":1,"column_end":99}},{"value":"/   use this if dropping the old value in timely manner is important (possibly because of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90722,"byte_end":90813,"line_start":45,"line_end":45,"column_start":1,"column_end":92}},{"value":"/   releasing large amount of RAM or because of closing file handles).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90814,"byte_end":90886,"line_start":46,"line_end":46,"column_start":1,"column_end":73}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90887,"byte_end":90890,"line_start":47,"line_end":47,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90891,"byte_end":90905,"line_start":48,"line_end":48,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90906,"byte_end":90909,"line_start":49,"line_end":49,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90910,"byte_end":90921,"line_start":50,"line_end":50,"column_start":1,"column_end":12}},{"value":"/ # fn do_something<V>(_v: V) { }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90922,"byte_end":90957,"line_start":51,"line_end":51,"column_start":1,"column_end":36}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90958,"byte_end":90981,"line_start":52,"line_end":52,"column_start":1,"column_end":24}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90982,"byte_end":90985,"line_start":53,"line_end":53,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::{ArcSwap, Cache};","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":90986,"byte_end":91021,"line_start":54,"line_end":54,"column_start":1,"column_end":36}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91022,"byte_end":91025,"line_start":55,"line_end":55,"column_start":1,"column_end":4}},{"value":"/ let shared = Arc::new(ArcSwap::from_pointee(42));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91026,"byte_end":91079,"line_start":56,"line_end":56,"column_start":1,"column_end":54}},{"value":"/ // Start 10 worker threads...","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91080,"byte_end":91113,"line_start":57,"line_end":57,"column_start":1,"column_end":34}},{"value":"/ for _ in 0..10 {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91114,"byte_end":91134,"line_start":58,"line_end":58,"column_start":1,"column_end":21}},{"value":"/     let mut cache = Cache::new(Arc::clone(&shared));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91135,"byte_end":91191,"line_start":59,"line_end":59,"column_start":1,"column_end":57}},{"value":"/     std::thread::spawn(move || {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91192,"byte_end":91228,"line_start":60,"line_end":60,"column_start":1,"column_end":37}},{"value":"/         // Keep loading it like mad..","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91229,"byte_end":91270,"line_start":61,"line_end":61,"column_start":1,"column_end":42}},{"value":"/         loop {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91271,"byte_end":91289,"line_start":62,"line_end":62,"column_start":1,"column_end":19}},{"value":"/             let value = cache.load();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91290,"byte_end":91331,"line_start":63,"line_end":63,"column_start":1,"column_end":42}},{"value":"/             do_something(value);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91332,"byte_end":91368,"line_start":64,"line_end":64,"column_start":1,"column_end":37}},{"value":"/         }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91369,"byte_end":91382,"line_start":65,"line_end":65,"column_start":1,"column_end":14}},{"value":"/     });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91383,"byte_end":91394,"line_start":66,"line_end":66,"column_start":1,"column_end":12}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91395,"byte_end":91400,"line_start":67,"line_end":67,"column_start":1,"column_end":6}},{"value":"/ shared.store(Arc::new(12));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91401,"byte_end":91432,"line_start":68,"line_end":68,"column_start":1,"column_end":32}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91433,"byte_end":91440,"line_start":69,"line_end":69,"column_start":1,"column_end":8}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91441,"byte_end":91444,"line_start":70,"line_end":70,"column_start":1,"column_end":4}},{"value":"/ [Arc]: std::sync::Arc","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91445,"byte_end":91470,"line_start":71,"line_end":71,"column_start":1,"column_end":26}},{"value":"/ [load_full]: ArcSwapAny::load_full","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91471,"byte_end":91509,"line_start":72,"line_end":72,"column_start":1,"column_end":39}}]},{"kind":"Method","id":{"krate":0,"index":163},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92208,"byte_end":92211,"line_start":94,"line_end":94,"column_start":12,"column_end":15},"name":"new","qualname":"<Cache<A, T>>::new","value":"pub fn new(A) -> Self","parent":null,"children":[],"decl_id":null,"docs":" Creates a new caching handle.","sig":null,"attributes":[{"value":"/ Creates a new caching handle.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91708,"byte_end":91741,"line_start":85,"line_end":85,"column_start":5,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91746,"byte_end":91749,"line_start":86,"line_end":86,"column_start":5,"column_end":8}},{"value":"/ The parameter is something dereferencing into an [`ArcSwapAny`] (eg. either to [`ArcSwap`]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91754,"byte_end":91848,"line_start":87,"line_end":87,"column_start":5,"column_end":99}},{"value":"/ or [`ArcSwapOption`]). That can be [`ArcSwapAny`] itself, but that's not very useful. But","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91853,"byte_end":91946,"line_start":88,"line_end":88,"column_start":5,"column_end":98}},{"value":"/ it also can be a reference to it or `Arc`, which makes it possible to share the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91951,"byte_end":92034,"line_start":89,"line_end":89,"column_start":5,"column_end":88}},{"value":"/ [`ArcSwapAny`] with multiple caches or access it in non-cached way too.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92039,"byte_end":92114,"line_start":90,"line_end":90,"column_start":5,"column_end":80}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92119,"byte_end":92122,"line_start":91,"line_end":91,"column_start":5,"column_end":8}},{"value":"/ [`ArcSwapOption`]: ::ArcSwapOption","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92127,"byte_end":92165,"line_start":92,"line_end":92,"column_start":5,"column_end":43}},{"value":"/ [`ArcSwap`]: ::ArcSwap","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92170,"byte_end":92196,"line_start":93,"line_end":93,"column_start":5,"column_end":31}}]},{"kind":"Method","id":{"krate":0,"index":164},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92399,"byte_end":92407,"line_start":100,"line_end":100,"column_start":12,"column_end":20},"name":"arc_swap","qualname":"<Cache<A, T>>::arc_swap","value":"pub fn arc_swap(&Self) -> &A::Target","parent":null,"children":[],"decl_id":null,"docs":" Gives access to the (possibly shared) cached [`ArcSwapAny`].\n","sig":null,"attributes":[{"value":"/ Gives access to the (possibly shared) cached [`ArcSwapAny`].","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92323,"byte_end":92387,"line_start":99,"line_end":99,"column_start":5,"column_end":69}}]},{"kind":"Method","id":{"krate":0,"index":165},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92869,"byte_end":92873,"line_start":112,"line_end":112,"column_start":12,"column_end":16},"name":"load","qualname":"<Cache<A, T>>::load","value":"pub fn load(&mut Self) -> &T","parent":null,"children":[],"decl_id":null,"docs":" Loads the currently held value.","sig":null,"attributes":[{"value":"/ Loads the currently held value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92465,"byte_end":92500,"line_start":104,"line_end":104,"column_start":5,"column_end":40}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92505,"byte_end":92508,"line_start":105,"line_end":105,"column_start":5,"column_end":8}},{"value":"/ This first checks if the cached value is up to date. This check is very cheap.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92513,"byte_end":92595,"line_start":106,"line_end":106,"column_start":5,"column_end":87}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92600,"byte_end":92603,"line_start":107,"line_end":107,"column_start":5,"column_end":8}},{"value":"/ If it is up to date, the cached value is simply returned without additional costs. If it is","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92608,"byte_end":92703,"line_start":108,"line_end":108,"column_start":5,"column_end":100}},{"value":"/ outdated, a load is done on the underlying shared storage. The newly loaded value is then","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92708,"byte_end":92801,"line_start":109,"line_end":109,"column_start":5,"column_end":98}},{"value":"/ stored in the cache and returned.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92806,"byte_end":92843,"line_start":110,"line_end":110,"column_start":5,"column_end":42}},{"value":"inline","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":92848,"byte_end":92857,"line_start":111,"line_end":111,"column_start":5,"column_end":14}}]},{"kind":"Method","id":{"krate":0,"index":168},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95519,"byte_end":95522,"line_start":184,"line_end":184,"column_start":12,"column_end":15},"name":"map","qualname":"<Cache<A, T>>::map","value":"pub fn map<F, U>(Self, F) -> MapCache<A, T, F> where F: FnMut(&T) -> &U","parent":null,"children":[],"decl_id":null,"docs":" Turns this cache into a cache with a projection inside the cached value.","sig":null,"attributes":[{"value":"/ Turns this cache into a cache with a projection inside the cached value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":93591,"byte_end":93667,"line_start":134,"line_end":134,"column_start":5,"column_end":81}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":93672,"byte_end":93675,"line_start":135,"line_end":135,"column_start":5,"column_end":8}},{"value":"/ You'd use this in case when some part of code needs access to fresh values of `U`, however","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":93680,"byte_end":93774,"line_start":136,"line_end":136,"column_start":5,"column_end":99}},{"value":"/ a bigger structure containing `U` is provided by this cache. The possibility of giving the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":93779,"byte_end":93873,"line_start":137,"line_end":137,"column_start":5,"column_end":99}},{"value":"/ whole structure to the part of the code falls short in terms of reusability (the part of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":93878,"byte_end":93970,"line_start":138,"line_end":138,"column_start":5,"column_end":97}},{"value":"/ the code could be used within multiple contexts, each with a bigger different structure","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":93975,"byte_end":94066,"line_start":139,"line_end":139,"column_start":5,"column_end":96}},{"value":"/ containing `U`) and code separation (the code shouldn't needs to know about the big","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94071,"byte_end":94158,"line_start":140,"line_end":140,"column_start":5,"column_end":92}},{"value":"/ structure).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94163,"byte_end":94178,"line_start":141,"line_end":141,"column_start":5,"column_end":20}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94183,"byte_end":94186,"line_start":142,"line_end":142,"column_start":5,"column_end":8}},{"value":"/ # Warning","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94191,"byte_end":94204,"line_start":143,"line_end":143,"column_start":5,"column_end":18}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94209,"byte_end":94212,"line_start":144,"line_end":144,"column_start":5,"column_end":8}},{"value":"/ As the provided `f` is called inside every [`load`][Access::load], this one should be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94217,"byte_end":94306,"line_start":145,"line_end":145,"column_start":5,"column_end":94}},{"value":"/ cheap. Most often it is expected to be just a closure taking reference of some inner field.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94311,"byte_end":94406,"line_start":146,"line_end":146,"column_start":5,"column_end":100}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94411,"byte_end":94414,"line_start":147,"line_end":147,"column_start":5,"column_end":8}},{"value":"/ For the same reasons, it should not have side effects and should never panic (these will","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94419,"byte_end":94511,"line_start":148,"line_end":148,"column_start":5,"column_end":97}},{"value":"/ not break Rust's safety rules, but might produce behaviour you don't expect).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94516,"byte_end":94597,"line_start":149,"line_end":149,"column_start":5,"column_end":86}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94602,"byte_end":94605,"line_start":150,"line_end":150,"column_start":5,"column_end":8}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94610,"byte_end":94624,"line_start":151,"line_end":151,"column_start":5,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94629,"byte_end":94632,"line_start":152,"line_end":152,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94637,"byte_end":94648,"line_start":153,"line_end":153,"column_start":5,"column_end":16}},{"value":"/ extern crate arc_swap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94653,"byte_end":94679,"line_start":154,"line_end":154,"column_start":5,"column_end":31}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94684,"byte_end":94687,"line_start":155,"line_end":155,"column_start":5,"column_end":8}},{"value":"/ use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94692,"byte_end":94718,"line_start":156,"line_end":156,"column_start":5,"column_end":31}},{"value":"/ use arc_swap::cache::{Access, Cache};","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94723,"byte_end":94764,"line_start":157,"line_end":157,"column_start":5,"column_end":46}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94769,"byte_end":94772,"line_start":158,"line_end":158,"column_start":5,"column_end":8}},{"value":"/ struct InnerCfg {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94777,"byte_end":94798,"line_start":159,"line_end":159,"column_start":5,"column_end":26}},{"value":"/     answer: usize,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94803,"byte_end":94825,"line_start":160,"line_end":160,"column_start":5,"column_end":27}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94830,"byte_end":94835,"line_start":161,"line_end":161,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94840,"byte_end":94843,"line_start":162,"line_end":162,"column_start":5,"column_end":8}},{"value":"/ struct FullCfg {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94848,"byte_end":94868,"line_start":163,"line_end":163,"column_start":5,"column_end":25}},{"value":"/     inner: InnerCfg,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94873,"byte_end":94897,"line_start":164,"line_end":164,"column_start":5,"column_end":29}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94902,"byte_end":94907,"line_start":165,"line_end":165,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94912,"byte_end":94915,"line_start":166,"line_end":166,"column_start":5,"column_end":8}},{"value":"/ fn use_inner<A: Access<InnerCfg>>(cache: &mut A) {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94920,"byte_end":94974,"line_start":167,"line_end":167,"column_start":5,"column_end":59}},{"value":"/     let value = cache.load();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":94979,"byte_end":95012,"line_start":168,"line_end":168,"column_start":5,"column_end":38}},{"value":"/     println!(\"The answer is: {}\", value.answer);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95017,"byte_end":95069,"line_start":169,"line_end":169,"column_start":5,"column_end":57}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95074,"byte_end":95079,"line_start":170,"line_end":170,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95084,"byte_end":95087,"line_start":171,"line_end":171,"column_start":5,"column_end":8}},{"value":"/ let full_cfg = ArcSwap::from_pointee(FullCfg {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95092,"byte_end":95142,"line_start":172,"line_end":172,"column_start":5,"column_end":55}},{"value":"/     inner: InnerCfg {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95147,"byte_end":95172,"line_start":173,"line_end":173,"column_start":5,"column_end":30}},{"value":"/         answer: 42,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95177,"byte_end":95200,"line_start":174,"line_end":174,"column_start":5,"column_end":28}},{"value":"/     }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95205,"byte_end":95214,"line_start":175,"line_end":175,"column_start":5,"column_end":14}},{"value":"/ });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95219,"byte_end":95226,"line_start":176,"line_end":176,"column_start":5,"column_end":12}},{"value":"/ let cache = Cache::new(&full_cfg);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95231,"byte_end":95269,"line_start":177,"line_end":177,"column_start":5,"column_end":43}},{"value":"/ use_inner(&mut cache.map(|full| &full.inner));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95274,"byte_end":95324,"line_start":178,"line_end":178,"column_start":5,"column_end":55}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95329,"byte_end":95332,"line_start":179,"line_end":179,"column_start":5,"column_end":8}},{"value":"/ let inner_cfg = ArcSwap::from_pointee(InnerCfg { answer: 24 });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95337,"byte_end":95404,"line_start":180,"line_end":180,"column_start":5,"column_end":72}},{"value":"/ let mut inner_cache = Cache::new(&inner_cfg);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95409,"byte_end":95458,"line_start":181,"line_end":181,"column_start":5,"column_end":54}},{"value":"/ use_inner(&mut inner_cache);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95463,"byte_end":95495,"line_start":182,"line_end":182,"column_start":5,"column_end":37}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95500,"byte_end":95507,"line_start":183,"line_end":183,"column_start":5,"column_end":12}}]},{"kind":"Struct","id":{"krate":0,"index":673},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":96397,"byte_end":96405,"line_start":222,"line_end":222,"column_start":12,"column_end":20},"name":"MapCache","qualname":"::cache::MapCache","value":"MapCache {  }","parent":null,"children":[{"krate":0,"index":677},{"krate":0,"index":678}],"decl_id":null,"docs":" An implementation of a cache with a projection into the accessed value.","sig":null,"attributes":[{"value":"/ An implementation of a cache with a projection into the accessed value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":96136,"byte_end":96211,"line_start":217,"line_end":217,"column_start":1,"column_end":76}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":96212,"byte_end":96215,"line_start":218,"line_end":218,"column_start":1,"column_end":4}},{"value":"/ This is the implementation structure for [`Cache::map`]. It can't be created directly and it","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":96216,"byte_end":96312,"line_start":219,"line_end":219,"column_start":1,"column_end":97}},{"value":"/ should be used through the [`Access`] trait.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":96313,"byte_end":96361,"line_start":220,"line_end":220,"column_start":1,"column_end":49}}]},{"kind":"Mod","id":{"krate":0,"index":247},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1},"name":"gen_lock","qualname":"::gen_lock","value":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","parent":null,"children":[{"krate":0,"index":248},{"krate":0,"index":251},{"krate":0,"index":252},{"krate":0,"index":255},{"krate":0,"index":258},{"krate":0,"index":259},{"krate":0,"index":699},{"krate":0,"index":703},{"krate":0,"index":260},{"krate":0,"index":263},{"krate":0,"index":268},{"krate":0,"index":270},{"krate":0,"index":272},{"krate":0,"index":274},{"krate":0,"index":705},{"krate":0,"index":709},{"krate":0,"index":711},{"krate":0,"index":275},{"krate":0,"index":713},{"krate":0,"index":717},{"krate":0,"index":281},{"krate":0,"index":719},{"krate":0,"index":723},{"krate":0,"index":288},{"krate":0,"index":726},{"krate":0,"index":289}],"decl_id":null,"docs":" Customization of where and how the generation lock works.","sig":null,"attributes":[{"value":"/ Customization of where and how the generation lock works.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":111925,"byte_end":111986,"line_start":1,"line_end":1,"column_start":1,"column_end":62}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":111987,"byte_end":111990,"line_start":2,"line_end":2,"column_start":1,"column_end":4}},{"value":"/ By default, all the [`ArcSwapAny`](../struct.ArcSwapAny.html) instances share the same","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":111991,"byte_end":112081,"line_start":3,"line_end":3,"column_start":1,"column_end":91}},{"value":"/ generation lock. This is to save space in them (they have the same size as a single pointer),","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112082,"byte_end":112179,"line_start":4,"line_end":4,"column_start":1,"column_end":98}},{"value":"/ because the default lock is quite a large data structure (it's sharded, to prevent too much","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112180,"byte_end":112275,"line_start":5,"line_end":5,"column_start":1,"column_end":96}},{"value":"/ contention between different threads). This has the disadvantage that a lock on one instance","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112276,"byte_end":112372,"line_start":6,"line_end":6,"column_start":1,"column_end":97}},{"value":"/ influences another instance.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112373,"byte_end":112405,"line_start":7,"line_end":7,"column_start":1,"column_end":33}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112406,"byte_end":112409,"line_start":8,"line_end":8,"column_start":1,"column_end":4}},{"value":"/ The things in this module allow customizing how the lock behaves. The default one is","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112410,"byte_end":112498,"line_start":9,"line_end":9,"column_start":1,"column_end":89}},{"value":"/ [`Global`](struct.Global.html). If you want to use independent but unsharded lock, use the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112499,"byte_end":112593,"line_start":10,"line_end":10,"column_start":1,"column_end":95}},{"value":"/ [`PrivateUnsharded`](struct.PrivateUnsharded.html) (or the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112594,"byte_end":112656,"line_start":11,"line_end":11,"column_start":1,"column_end":63}},{"value":"/ [`IndependentArcSwap`](../type.IndependentArcSwap.html) type alias).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112657,"byte_end":112729,"line_start":12,"line_end":12,"column_start":1,"column_end":73}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112730,"byte_end":112733,"line_start":13,"line_end":13,"column_start":1,"column_end":4}},{"value":"/ Or you can implement your own lock, but you probably should study the internals of the library","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112734,"byte_end":112832,"line_start":14,"line_end":14,"column_start":1,"column_end":99}},{"value":"/ first.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112833,"byte_end":112843,"line_start":15,"line_end":15,"column_start":1,"column_end":11}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112844,"byte_end":112847,"line_start":16,"line_end":16,"column_start":1,"column_end":4}},{"value":"/ # Not Implemented Yet","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112848,"byte_end":112873,"line_start":17,"line_end":17,"column_start":1,"column_end":26}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112874,"byte_end":112877,"line_start":18,"line_end":18,"column_start":1,"column_end":4}},{"value":"/ These variants would probably make sense, but haven't been written yet:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112878,"byte_end":112953,"line_start":19,"line_end":19,"column_start":1,"column_end":76}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112954,"byte_end":112957,"line_start":20,"line_end":20,"column_start":1,"column_end":4}},{"value":"/ * A lock storage that is shared, but only between a certain group of pointers. It could be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":112958,"byte_end":113052,"line_start":21,"line_end":21,"column_start":1,"column_end":95}},{"value":"/   either as a reference (but then each `ArcSwap` would get a bit bigger), or a macro that could","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113053,"byte_end":113152,"line_start":22,"line_end":22,"column_start":1,"column_end":100}},{"value":"/   generate an independent but global storage.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113153,"byte_end":113202,"line_start":23,"line_end":23,"column_start":1,"column_end":50}}]},{"kind":"Struct","id":{"krate":0,"index":699},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114172,"byte_end":114177,"line_start":48,"line_end":48,"column_start":12,"column_end":17},"name":"Shard","qualname":"::gen_lock::Shard","value":"","parent":null,"children":[],"decl_id":null,"docs":" A single shard.","sig":null,"attributes":[{"value":"/ A single shard.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113425,"byte_end":113444,"line_start":34,"line_end":34,"column_start":1,"column_end":20}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113445,"byte_end":113448,"line_start":35,"line_end":35,"column_start":1,"column_end":4}},{"value":"/ This is one copy of place where the library keeps tracks of generation locks. It consists of a","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113449,"byte_end":113547,"line_start":36,"line_end":36,"column_start":1,"column_end":99}},{"value":"/ pair of counters and allows double-buffering readers (therefore, even if there's a never-ending","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113548,"byte_end":113647,"line_start":37,"line_end":37,"column_start":1,"column_end":100}},{"value":"/ stream of readers coming in, writer will get through eventually).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113648,"byte_end":113717,"line_start":38,"line_end":38,"column_start":1,"column_end":70}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113718,"byte_end":113721,"line_start":39,"line_end":39,"column_start":1,"column_end":4}},{"value":"/ To avoid contention and sharing of the counters between readers, we don't have one pair of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113722,"byte_end":113816,"line_start":40,"line_end":40,"column_start":1,"column_end":95}},{"value":"/ generation counters, but several. The reader picks one shard and uses that, while the writer","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113817,"byte_end":113913,"line_start":41,"line_end":41,"column_start":1,"column_end":97}},{"value":"/ looks through all of them. This is still not perfect (two threads may choose the same ID), but","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":113914,"byte_end":114012,"line_start":42,"line_end":42,"column_start":1,"column_end":99}},{"value":"/ it helps.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114013,"byte_end":114026,"line_start":43,"line_end":43,"column_start":1,"column_end":14}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114027,"byte_end":114030,"line_start":44,"line_end":44,"column_start":1,"column_end":4}},{"value":"/ Each [`LockStorage`](trait.LockStorage.html) must provide a (non-empty) array of these.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114031,"byte_end":114122,"line_start":45,"line_end":45,"column_start":1,"column_end":92}},{"value":"repr(align(64))","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114123,"byte_end":114141,"line_start":46,"line_end":46,"column_start":1,"column_end":19}}]},{"kind":"Trait","id":{"krate":0,"index":263},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114967,"byte_end":114978,"line_start":67,"line_end":67,"column_start":18,"column_end":29},"name":"LockStorage","qualname":"::gen_lock::LockStorage","value":"LockStorage: Default","parent":null,"children":[{"krate":0,"index":264},{"krate":0,"index":265},{"krate":0,"index":266},{"krate":0,"index":267}],"decl_id":null,"docs":" Abstraction of the place where generation locks are stored.","sig":null,"attributes":[{"value":"/ Abstraction of the place where generation locks are stored.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114474,"byte_end":114537,"line_start":60,"line_end":60,"column_start":1,"column_end":64}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114538,"byte_end":114541,"line_start":61,"line_end":61,"column_start":1,"column_end":4}},{"value":"/ The trait is unsafe because if the trait messes up with the values stored in there in any way","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114542,"byte_end":114639,"line_start":62,"line_end":62,"column_start":1,"column_end":98}},{"value":"/ (or makes the values available to something else that messes them up), this can cause UB and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114640,"byte_end":114736,"line_start":63,"line_end":63,"column_start":1,"column_end":97}},{"value":"/ daemons and discomfort to users and such. The library expects it is the only one storing values","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114737,"byte_end":114836,"line_start":64,"line_end":64,"column_start":1,"column_end":100}},{"value":"/ there. In other words, it is expected the trait is only a dumb storage and doesn't actively do","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114837,"byte_end":114935,"line_start":65,"line_end":65,"column_start":1,"column_end":99}},{"value":"/ anything.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114936,"byte_end":114949,"line_start":66,"line_end":66,"column_start":1,"column_end":14}}]},{"kind":"Type","id":{"krate":0,"index":264},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115177,"byte_end":115183,"line_start":72,"line_end":72,"column_start":10,"column_end":16},"name":"Shards","qualname":"::gen_lock::LockStorage::Shards","value":"type Shards: AsRef<[Shard]>;","parent":{"krate":0,"index":263},"children":[],"decl_id":null,"docs":" The type for keeping several shards.","sig":null,"attributes":[{"value":"/ The type for keeping several shards.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114994,"byte_end":115034,"line_start":68,"line_end":68,"column_start":5,"column_end":45}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115039,"byte_end":115042,"line_start":69,"line_end":69,"column_start":5,"column_end":8}},{"value":"/ In general, it is expected to be a fixed-size array, but different implementations can have","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115047,"byte_end":115142,"line_start":70,"line_end":70,"column_start":5,"column_end":100}},{"value":"/ different sizes.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115147,"byte_end":115167,"line_start":71,"line_end":71,"column_start":5,"column_end":25}}]},{"kind":"Method","id":{"krate":0,"index":265},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115443,"byte_end":115450,"line_start":78,"line_end":78,"column_start":8,"column_end":15},"name":"gen_idx","qualname":"::gen_lock::LockStorage::gen_idx","value":"pub fn gen_idx(&Self) -> &AtomicUsize","parent":{"krate":0,"index":263},"children":[],"decl_id":null,"docs":" Access to the generation index.","sig":null,"attributes":[{"value":"/ Access to the generation index.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115206,"byte_end":115241,"line_start":74,"line_end":74,"column_start":5,"column_end":40}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115246,"byte_end":115249,"line_start":75,"line_end":75,"column_start":5,"column_end":8}},{"value":"/ Must return the same instance of the `AtomicUsize` for the lifetime of the storage, must","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115254,"byte_end":115346,"line_start":76,"line_end":76,"column_start":5,"column_end":97}},{"value":"/ start at `0` and the trait itself must not modify it. Must be async-signal-safe.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115351,"byte_end":115435,"line_start":77,"line_end":77,"column_start":5,"column_end":89}}]},{"kind":"Method","id":{"krate":0,"index":266},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115685,"byte_end":115691,"line_start":84,"line_end":84,"column_start":8,"column_end":14},"name":"shards","qualname":"::gen_lock::LockStorage::shards","value":"pub fn shards(&Self) -> &Self::Shards","parent":{"krate":0,"index":263},"children":[],"decl_id":null,"docs":" Access to the shards storage.","sig":null,"attributes":[{"value":"/ Access to the shards storage.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115480,"byte_end":115513,"line_start":80,"line_end":80,"column_start":5,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115518,"byte_end":115521,"line_start":81,"line_end":81,"column_start":5,"column_end":8}},{"value":"/ Must return the same instance of the shards for the lifetime of the storage. Must start","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115526,"byte_end":115617,"line_start":82,"line_end":82,"column_start":5,"column_end":96}},{"value":"/ zeroed-out and the trait itself must not modify it.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115622,"byte_end":115677,"line_start":83,"line_end":83,"column_start":5,"column_end":60}}]},{"kind":"Method","id":{"krate":0,"index":267},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115906,"byte_end":115918,"line_start":90,"line_end":90,"column_start":8,"column_end":20},"name":"choose_shard","qualname":"::gen_lock::LockStorage::choose_shard","value":"pub fn choose_shard(&Self) -> usize","parent":{"krate":0,"index":263},"children":[],"decl_id":null,"docs":" Pick one shard of the all selected.","sig":null,"attributes":[{"value":"/ Pick one shard of the all selected.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115722,"byte_end":115761,"line_start":86,"line_end":86,"column_start":5,"column_end":44}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115766,"byte_end":115769,"line_start":87,"line_end":87,"column_start":5,"column_end":8}},{"value":"/ Returns the index of one of the shards. The choice can be arbitrary, but it should be fast","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115774,"byte_end":115868,"line_start":88,"line_end":88,"column_start":5,"column_end":99}},{"value":"/ and avoid collisions.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":115873,"byte_end":115898,"line_start":89,"line_end":89,"column_start":5,"column_end":30}}]},{"kind":"Struct","id":{"krate":0,"index":709},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117021,"byte_end":117027,"line_start":135,"line_end":135,"column_start":12,"column_end":18},"name":"Global","qualname":"::gen_lock::Global","value":"","parent":null,"children":[],"decl_id":null,"docs":" The default, global lock.","sig":null,"attributes":[{"value":"/ The default, global lock.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":116669,"byte_end":116698,"line_start":128,"line_end":128,"column_start":1,"column_end":30}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":116699,"byte_end":116702,"line_start":129,"line_end":129,"column_start":1,"column_end":4}},{"value":"/ The lock is stored out-of-band, globally. This means that one `ArcSwap` with this lock storage","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":116703,"byte_end":116801,"line_start":130,"line_end":130,"column_start":1,"column_end":99}},{"value":"/ is only one machine word large, but a lock on one instance blocks the other, independent ones.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":116802,"byte_end":116900,"line_start":131,"line_end":131,"column_start":1,"column_end":99}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":116901,"byte_end":116904,"line_start":132,"line_end":132,"column_start":1,"column_end":4}},{"value":"/ It has several shards so threads are less likely to collide (HW-contend) on them.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":116905,"byte_end":116990,"line_start":133,"line_end":133,"column_start":1,"column_end":86}}]},{"kind":"Struct","id":{"krate":0,"index":713},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118700,"byte_end":118716,"line_start":189,"line_end":189,"column_start":12,"column_end":28},"name":"PrivateUnsharded","qualname":"::gen_lock::PrivateUnsharded","value":"PrivateUnsharded {  }","parent":null,"children":[{"krate":0,"index":714},{"krate":0,"index":715}],"decl_id":null,"docs":" A single „shard“ that is stored inline, inside the corresponding `ArcSwap`. Therefore, locks on\n each instance won't influence any other instances. On the other hand, the `ArcSwap` itself gets\n bigger and doesn't have multiple shards, so concurrent uses might contend each other a bit.","sig":null,"attributes":[{"value":"/ A single „shard“ that is stored inline, inside the corresponding `ArcSwap`. Therefore, locks on","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117629,"byte_end":117732,"line_start":165,"line_end":165,"column_start":1,"column_end":100}},{"value":"/ each instance won't influence any other instances. On the other hand, the `ArcSwap` itself gets","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117733,"byte_end":117832,"line_start":166,"line_end":166,"column_start":1,"column_end":100}},{"value":"/ bigger and doesn't have multiple shards, so concurrent uses might contend each other a bit.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117833,"byte_end":117928,"line_start":167,"line_end":167,"column_start":1,"column_end":96}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117929,"byte_end":117932,"line_start":168,"line_end":168,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117933,"byte_end":117944,"line_start":169,"line_end":169,"column_start":1,"column_end":12}},{"value":"/ # use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117945,"byte_end":117970,"line_start":170,"line_end":170,"column_start":1,"column_end":26}},{"value":"/ # use arc_swap::{ArcSwap, ArcSwapAny};","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117971,"byte_end":118013,"line_start":171,"line_end":171,"column_start":1,"column_end":43}},{"value":"/ # use arc_swap::gen_lock::PrivateUnsharded;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118014,"byte_end":118061,"line_start":172,"line_end":172,"column_start":1,"column_end":48}},{"value":"/ // This one shares locks with others.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118062,"byte_end":118103,"line_start":173,"line_end":173,"column_start":1,"column_end":42}},{"value":"/ let shared = ArcSwap::from_pointee(42);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118104,"byte_end":118147,"line_start":174,"line_end":174,"column_start":1,"column_end":44}},{"value":"/ // But this one has an independent lock.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118148,"byte_end":118192,"line_start":175,"line_end":175,"column_start":1,"column_end":45}},{"value":"/ let independent = ArcSwapAny::<Arc<usize>, PrivateUnsharded>::from_pointee(42);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118193,"byte_end":118276,"line_start":176,"line_end":176,"column_start":1,"column_end":84}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118277,"byte_end":118280,"line_start":177,"line_end":177,"column_start":1,"column_end":4}},{"value":"/ // This'll hold a lock so any writers there wouldn't complete","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118281,"byte_end":118346,"line_start":178,"line_end":178,"column_start":1,"column_end":66}},{"value":"/ let l = independent.load_signal_safe();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118347,"byte_end":118390,"line_start":179,"line_end":179,"column_start":1,"column_end":44}},{"value":"/ // But the lock doesn't influence the shared one, so this goes through just fine","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118391,"byte_end":118475,"line_start":180,"line_end":180,"column_start":1,"column_end":85}},{"value":"/ shared.store(Arc::new(43));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118476,"byte_end":118507,"line_start":181,"line_end":181,"column_start":1,"column_end":32}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118508,"byte_end":118511,"line_start":182,"line_end":182,"column_start":1,"column_end":4}},{"value":"/ assert_eq!(42, **l);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118512,"byte_end":118536,"line_start":183,"line_end":183,"column_start":1,"column_end":25}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118537,"byte_end":118544,"line_start":184,"line_end":184,"column_start":1,"column_end":8}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118545,"byte_end":118548,"line_start":185,"line_end":185,"column_start":1,"column_end":4}},{"value":"/ Note that there`s a type alias [`IndependentArcSwap`](../type.IndependentArcSwap.html) that can","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118549,"byte_end":118648,"line_start":186,"line_end":186,"column_start":1,"column_end":100}},{"value":"/ be used instead.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118649,"byte_end":118669,"line_start":187,"line_end":187,"column_start":1,"column_end":21}}]},{"kind":"Struct","id":{"krate":0,"index":719},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119771,"byte_end":119785,"line_start":227,"line_end":227,"column_start":12,"column_end":26},"name":"PrivateSharded","qualname":"::gen_lock::PrivateSharded","value":"PrivateSharded {  }","parent":null,"children":[{"krate":0,"index":721},{"krate":0,"index":722}],"decl_id":null,"docs":" An alternative to [`PrivateUnsharded`], but with configurable number of shards.","sig":null,"attributes":[{"value":"/ An alternative to [`PrivateUnsharded`], but with configurable number of shards.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119082,"byte_end":119165,"line_start":213,"line_end":213,"column_start":1,"column_end":84}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119166,"byte_end":119169,"line_start":214,"line_end":214,"column_start":1,"column_end":4}},{"value":"/ The [`PrivateUnsharded`] is almost identical to `PrivateSharded<[Shard; 1]>` (the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119170,"byte_end":119255,"line_start":215,"line_end":215,"column_start":1,"column_end":86}},{"value":"/ implementation takes advantage of some details to avoid a little bit of overhead). It allows","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119256,"byte_end":119352,"line_start":216,"line_end":216,"column_start":1,"column_end":97}},{"value":"/ the user to choose the trade-of between contention during locking and size of the pointer and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119353,"byte_end":119450,"line_start":217,"line_end":217,"column_start":1,"column_end":98}},{"value":"/ speed during writes.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119451,"byte_end":119475,"line_start":218,"line_end":218,"column_start":1,"column_end":25}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119476,"byte_end":119479,"line_start":219,"line_end":219,"column_start":1,"column_end":4}},{"value":"/ [`PrivateUnsharded`]: struct.PrivateUnsharded.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119480,"byte_end":119534,"line_start":220,"line_end":220,"column_start":1,"column_end":55}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119535,"byte_end":119538,"line_start":221,"line_end":221,"column_start":1,"column_end":4}},{"value":"/ # Note on `AsRef<[Shard]>`","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119539,"byte_end":119569,"line_start":222,"line_end":222,"column_start":1,"column_end":31}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119570,"byte_end":119573,"line_start":223,"line_end":223,"column_start":1,"column_end":4}},{"value":"/ Rust provides the `AsRef` trait (or, actually any trait) up to arrays of 32 elements. If you","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119574,"byte_end":119670,"line_start":224,"line_end":224,"column_start":1,"column_end":97}},{"value":"/ need something bigger, you have to work around it with a newtype.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":119671,"byte_end":119740,"line_start":225,"line_end":225,"column_start":1,"column_end":70}}]},{"kind":"Trait","id":{"krate":0,"index":306},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123716,"byte_end":123722,"line_start":31,"line_end":31,"column_start":18,"column_end":24},"name":"RefCnt","qualname":"::ref_cnt::RefCnt","value":"RefCnt: Clone","parent":null,"children":[{"krate":0,"index":307},{"krate":0,"index":308},{"krate":0,"index":309},{"krate":0,"index":310},{"krate":0,"index":311},{"krate":0,"index":312}],"decl_id":null,"docs":" A trait describing smart reference counted pointers.","sig":null,"attributes":[{"value":"/ A trait describing smart reference counted pointers.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122138,"byte_end":122194,"line_start":5,"line_end":5,"column_start":1,"column_end":57}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122195,"byte_end":122198,"line_start":6,"line_end":6,"column_start":1,"column_end":4}},{"value":"/ Note that in a way `Option<Arc<T>>` is also a smart reference counted pointer, just one that","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122199,"byte_end":122295,"line_start":7,"line_end":7,"column_start":1,"column_end":97}},{"value":"/ can hold NULL.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122296,"byte_end":122314,"line_start":8,"line_end":8,"column_start":1,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122315,"byte_end":122318,"line_start":9,"line_end":9,"column_start":1,"column_end":4}},{"value":"/ The trait is unsafe, because a wrong implementation will break the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122319,"byte_end":122389,"line_start":10,"line_end":10,"column_start":1,"column_end":71}},{"value":"/ [`ArcSwapAny`](struct.ArcSwapAny.html) implementation and lead to UB.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122390,"byte_end":122463,"line_start":11,"line_end":11,"column_start":1,"column_end":74}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122464,"byte_end":122467,"line_start":12,"line_end":12,"column_start":1,"column_end":4}},{"value":"/ This is not actually expected for downstream crate to implement, this is just means to reuse","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122468,"byte_end":122564,"line_start":13,"line_end":13,"column_start":1,"column_end":97}},{"value":"/ code for `Arc` and `Option<Arc>` variants. However, it is theoretically possible (if you have","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122565,"byte_end":122662,"line_start":14,"line_end":14,"column_start":1,"column_end":98}},{"value":"/ your own `Arc` implementation).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122663,"byte_end":122698,"line_start":15,"line_end":15,"column_start":1,"column_end":36}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122699,"byte_end":122702,"line_start":16,"line_end":16,"column_start":1,"column_end":4}},{"value":"/ It is also implemented for `Rc`, but that is not considered very useful (because the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122703,"byte_end":122791,"line_start":17,"line_end":17,"column_start":1,"column_end":89}},{"value":"/ `ArcSwapAny` is not `Send` or `Sync`, therefore there's very little advantage for it to be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122792,"byte_end":122886,"line_start":18,"line_end":18,"column_start":1,"column_end":95}},{"value":"/ atomic).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122887,"byte_end":122899,"line_start":19,"line_end":19,"column_start":1,"column_end":13}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122900,"byte_end":122903,"line_start":20,"line_end":20,"column_start":1,"column_end":4}},{"value":"/ Aside from the obvious properties (like that incrementing and decrementing a reference count","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":122904,"byte_end":123000,"line_start":21,"line_end":21,"column_start":1,"column_end":97}},{"value":"/ cancel each out and that having less references tracked than how many things actually point to","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123001,"byte_end":123099,"line_start":22,"line_end":22,"column_start":1,"column_end":99}},{"value":"/ the value is fine as long as the count doesn't drop to 0), it also must satisfy that if two","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123100,"byte_end":123195,"line_start":23,"line_end":23,"column_start":1,"column_end":96}},{"value":"/ pointers have the same value, they point to the same object. This is specifically not true for","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123196,"byte_end":123294,"line_start":24,"line_end":24,"column_start":1,"column_end":99}},{"value":"/ ZSTs, but it is true for `Arc`s of ZSTs, because they have the reference counts just after the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123295,"byte_end":123393,"line_start":25,"line_end":25,"column_start":1,"column_end":99}},{"value":"/ value. It would be fine to point to a type-erased version of the same object, though (if one","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123394,"byte_end":123490,"line_start":26,"line_end":26,"column_start":1,"column_end":97}},{"value":"/ could use this trait with unsized types in the first place).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123491,"byte_end":123555,"line_start":27,"line_end":27,"column_start":1,"column_end":65}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123556,"byte_end":123559,"line_start":28,"line_end":28,"column_start":1,"column_end":4}},{"value":"/ Furthermore, the type should be Pin (eg. if the type is cloned or moved, it should still","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123560,"byte_end":123652,"line_start":29,"line_end":29,"column_start":1,"column_end":93}},{"value":"/ point/deref to the same place in memory).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123653,"byte_end":123698,"line_start":30,"line_end":30,"column_start":1,"column_end":46}}]},{"kind":"Type","id":{"krate":0,"index":307},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123786,"byte_end":123790,"line_start":33,"line_end":33,"column_start":10,"column_end":14},"name":"Base","qualname":"::ref_cnt::RefCnt::Base","value":"type Base;","parent":{"krate":0,"index":306},"children":[],"decl_id":null,"docs":" The base type the pointer points to.\n","sig":null,"attributes":[{"value":"/ The base type the pointer points to.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123736,"byte_end":123776,"line_start":32,"line_end":32,"column_start":5,"column_end":45}}]},{"kind":"Method","id":{"krate":0,"index":308},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124185,"byte_end":124193,"line_start":42,"line_end":42,"column_start":8,"column_end":16},"name":"into_ptr","qualname":"::ref_cnt::RefCnt::into_ptr","value":"pub fn into_ptr(Self) -> *mut Self::Base","parent":{"krate":0,"index":306},"children":[],"decl_id":null,"docs":" Converts the smart pointer into a raw pointer, without affecting the reference count.","sig":null,"attributes":[{"value":"/ Converts the smart pointer into a raw pointer, without affecting the reference count.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123797,"byte_end":123886,"line_start":35,"line_end":35,"column_start":5,"column_end":94}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123891,"byte_end":123894,"line_start":36,"line_end":36,"column_start":5,"column_end":8}},{"value":"/ This can be seen as kind of freezing the pointer ‒ it'll be later converted back using","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123899,"byte_end":123991,"line_start":37,"line_end":37,"column_start":5,"column_end":95}},{"value":"/ [`from_ptr`](#method.from_ptr).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123996,"byte_end":124031,"line_start":38,"line_end":38,"column_start":5,"column_end":40}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124036,"byte_end":124039,"line_start":39,"line_end":39,"column_start":5,"column_end":8}},{"value":"/ The pointer must point to the value stored (and the value must be the same as one returned","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124044,"byte_end":124138,"line_start":40,"line_end":40,"column_start":5,"column_end":99}},{"value":"/ by [`as_ptr`](#method.as_ptr).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124143,"byte_end":124177,"line_start":41,"line_end":41,"column_start":5,"column_end":39}}]},{"kind":"Method","id":{"krate":0,"index":309},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124388,"byte_end":124394,"line_start":47,"line_end":47,"column_start":8,"column_end":14},"name":"as_ptr","qualname":"::ref_cnt::RefCnt::as_ptr","value":"pub fn as_ptr(&Self) -> *mut Self::Base","parent":{"krate":0,"index":306},"children":[],"decl_id":null,"docs":" Provides a view into the smart pointer as a raw pointer.","sig":null,"attributes":[{"value":"/ Provides a view into the smart pointer as a raw pointer.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124229,"byte_end":124289,"line_start":44,"line_end":44,"column_start":5,"column_end":65}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124294,"byte_end":124297,"line_start":45,"line_end":45,"column_start":5,"column_end":8}},{"value":"/ This must not affect the reference count ‒ the pointer is only borrowed.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124302,"byte_end":124380,"line_start":46,"line_end":46,"column_start":5,"column_end":81}}]},{"kind":"Method","id":{"krate":0,"index":310},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124987,"byte_end":124995,"line_start":56,"line_end":56,"column_start":15,"column_end":23},"name":"from_ptr","qualname":"::ref_cnt::RefCnt::from_ptr","value":"pub unsafe fn from_ptr(*const Self::Base) -> Self","parent":{"krate":0,"index":306},"children":[],"decl_id":null,"docs":" Converts a raw pointer back into the smart pointer, without affecting the reference count.","sig":null,"attributes":[{"value":"/ Converts a raw pointer back into the smart pointer, without affecting the reference count.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124431,"byte_end":124525,"line_start":49,"line_end":49,"column_start":5,"column_end":99}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124530,"byte_end":124533,"line_start":50,"line_end":50,"column_start":5,"column_end":8}},{"value":"/ This is only called on values previously returned by [`into_ptr`](#method.into_ptr).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124538,"byte_end":124626,"line_start":51,"line_end":51,"column_start":5,"column_end":93}},{"value":"/ However, it is not guaranteed to be 1:1 relation ‒ `from_ptr` may be called more times than","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124631,"byte_end":124728,"line_start":52,"line_end":52,"column_start":5,"column_end":100}},{"value":"/ `into_ptr` temporarily provided the reference count never drops under 1 during that time","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124733,"byte_end":124825,"line_start":53,"line_end":53,"column_start":5,"column_end":97}},{"value":"/ (the implementation sometimes owes a reference). These extra pointers will either be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124830,"byte_end":124918,"line_start":54,"line_end":54,"column_start":5,"column_end":93}},{"value":"/ converted back using `into_ptr` or forgotten.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":124923,"byte_end":124972,"line_start":55,"line_end":55,"column_start":5,"column_end":54}}]},{"kind":"Method","id":{"krate":0,"index":311},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125084,"byte_end":125087,"line_start":59,"line_end":59,"column_start":8,"column_end":11},"name":"inc","qualname":"::ref_cnt::RefCnt::inc","value":"pub fn inc(&Self)","parent":{"krate":0,"index":306},"children":[],"decl_id":null,"docs":" Increments the reference count by one.\n","sig":null,"attributes":[{"value":"/ Increments the reference count by one.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125034,"byte_end":125076,"line_start":58,"line_end":58,"column_start":5,"column_end":47}}]},{"kind":"Method","id":{"krate":0,"index":312},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125434,"byte_end":125437,"line_start":68,"line_end":68,"column_start":15,"column_end":18},"name":"dec","qualname":"::ref_cnt::RefCnt::dec","value":"pub unsafe fn dec(*const Self::Base)","parent":{"krate":0,"index":306},"children":[],"decl_id":null,"docs":" Decrements the reference count by one.","sig":null,"attributes":[{"value":"/ Decrements the reference count by one.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125153,"byte_end":125195,"line_start":63,"line_end":63,"column_start":5,"column_end":47}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125200,"byte_end":125203,"line_start":64,"line_end":64,"column_start":5,"column_end":8}},{"value":"/ Note this is called on a raw pointer (one previously returned by","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125208,"byte_end":125276,"line_start":65,"line_end":65,"column_start":5,"column_end":73}},{"value":"/ [`into_ptr`](#method.into_ptr). This may lead to dropping of the reference count to 0 and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125281,"byte_end":125374,"line_start":66,"line_end":66,"column_start":5,"column_end":98}},{"value":"/ destruction of the internal pointer.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125379,"byte_end":125419,"line_start":67,"line_end":67,"column_start":5,"column_end":45}}]},{"kind":"Struct","id":{"krate":0,"index":442},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":23434,"byte_end":23439,"line_start":472,"line_end":472,"column_start":12,"column_end":17},"name":"Guard","qualname":"::Guard","value":"Guard {  }","parent":null,"children":[{"krate":0,"index":445},{"krate":0,"index":446}],"decl_id":null,"docs":" A temporary storage of the pointer.","sig":null,"attributes":[{"value":"/ A temporary storage of the pointer.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":23132,"byte_end":23171,"line_start":467,"line_end":467,"column_start":1,"column_end":40}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":23172,"byte_end":23175,"line_start":468,"line_end":468,"column_start":1,"column_end":4}},{"value":"/ This guard object is returned from most loading methods (with the notable exception of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":23176,"byte_end":23266,"line_start":469,"line_end":469,"column_start":1,"column_end":91}},{"value":"/ [`load_full`](struct.ArcSwapAny.html#method.load_full)). It dereferences to the smart pointer","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":23267,"byte_end":23364,"line_start":470,"line_end":470,"column_start":1,"column_end":98}},{"value":"/ loaded, so most operations are to be done using that.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":23365,"byte_end":23422,"line_start":471,"line_end":471,"column_start":1,"column_end":58}}]},{"kind":"Method","id":{"krate":0,"index":451},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25410,"byte_end":25420,"line_start":519,"line_end":519,"column_start":12,"column_end":22},"name":"into_inner","qualname":"<Guard>::into_inner","value":"pub fn into_inner(Self) -> T","parent":null,"children":[],"decl_id":null,"docs":" Converts it into the held value.","sig":null,"attributes":[{"value":"/ Converts it into the held value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25111,"byte_end":25147,"line_start":513,"line_end":513,"column_start":5,"column_end":41}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25152,"byte_end":25155,"line_start":514,"line_end":514,"column_start":5,"column_end":8}},{"value":"/ This, on occasion, may be a tiny bit faster than cloning the Arc or whatever is being held","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25160,"byte_end":25254,"line_start":515,"line_end":515,"column_start":5,"column_end":99}},{"value":"/ inside.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25259,"byte_end":25270,"line_start":516,"line_end":516,"column_start":5,"column_end":16}}]},{"kind":"Struct","id":{"krate":0,"index":474},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":30080,"byte_end":30090,"line_start":648,"line_end":648,"column_start":12,"column_end":22},"name":"ArcSwapAny","qualname":"::ArcSwapAny","value":"ArcSwapAny {  }","parent":null,"children":[{"krate":0,"index":477},{"krate":0,"index":478},{"krate":0,"index":479}],"decl_id":null,"docs":" An atomic storage for a reference counted smart pointer like [`Arc`] or `Option<Arc>`.","sig":null,"attributes":[{"value":"/ An atomic storage for a reference counted smart pointer like [`Arc`] or `Option<Arc>`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28034,"byte_end":28124,"line_start":601,"line_end":601,"column_start":1,"column_end":91}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28125,"byte_end":28128,"line_start":602,"line_end":602,"column_start":1,"column_end":4}},{"value":"/ This is a storage where a smart pointer may live. It can be read and written atomically from","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28129,"byte_end":28225,"line_start":603,"line_end":603,"column_start":1,"column_end":97}},{"value":"/ several threads, but doesn't act like a pointer itself.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28226,"byte_end":28285,"line_start":604,"line_end":604,"column_start":1,"column_end":60}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28286,"byte_end":28289,"line_start":605,"line_end":605,"column_start":1,"column_end":4}},{"value":"/ One can be created [`from`] an [`Arc`]. To get the pointer back, use the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28290,"byte_end":28366,"line_start":606,"line_end":606,"column_start":1,"column_end":77}},{"value":"/ [`load`](#method.load).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28367,"byte_end":28394,"line_start":607,"line_end":607,"column_start":1,"column_end":28}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28395,"byte_end":28398,"line_start":608,"line_end":608,"column_start":1,"column_end":4}},{"value":"/ # Note","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28399,"byte_end":28409,"line_start":609,"line_end":609,"column_start":1,"column_end":11}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28410,"byte_end":28413,"line_start":610,"line_end":610,"column_start":1,"column_end":4}},{"value":"/ This is the common generic implementation. This allows sharing the same code for storing","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28414,"byte_end":28506,"line_start":611,"line_end":611,"column_start":1,"column_end":93}},{"value":"/ both `Arc` and `Option<Arc>` (and possibly other similar types).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28507,"byte_end":28575,"line_start":612,"line_end":612,"column_start":1,"column_end":69}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28576,"byte_end":28579,"line_start":613,"line_end":613,"column_start":1,"column_end":4}},{"value":"/ In your code, you most probably want to interact with it through the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28580,"byte_end":28652,"line_start":614,"line_end":614,"column_start":1,"column_end":73}},{"value":"/ [`ArcSwap`](type.ArcSwap.html) and [`ArcSwapOption`](type.ArcSwapOption.html) aliases. However,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28653,"byte_end":28752,"line_start":615,"line_end":615,"column_start":1,"column_end":100}},{"value":"/ the methods they share are described here and are applicable to both of them. That's why the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28753,"byte_end":28849,"line_start":616,"line_end":616,"column_start":1,"column_end":97}},{"value":"/ examples here use `ArcSwap` ‒ but they could as well be written with `ArcSwapOption` or","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28850,"byte_end":28943,"line_start":617,"line_end":617,"column_start":1,"column_end":92}},{"value":"/ `ArcSwapAny`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28944,"byte_end":28961,"line_start":618,"line_end":618,"column_start":1,"column_end":18}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28962,"byte_end":28965,"line_start":619,"line_end":619,"column_start":1,"column_end":4}},{"value":"/ # Type parameters","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28966,"byte_end":28987,"line_start":620,"line_end":620,"column_start":1,"column_end":22}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28988,"byte_end":28991,"line_start":621,"line_end":621,"column_start":1,"column_end":4}},{"value":"/ * `T`: The smart pointer to be kept inside. This crate provides implementation for `Arc<_>` and","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":28992,"byte_end":29091,"line_start":622,"line_end":622,"column_start":1,"column_end":100}},{"value":"/   `Option<Arc<_>>` (`Rc` too, but that one is not practically useful). But third party could","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29092,"byte_end":29188,"line_start":623,"line_end":623,"column_start":1,"column_end":97}},{"value":"/   provide implementations of the [`RefCnt`] trait and plug in others.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29189,"byte_end":29262,"line_start":624,"line_end":624,"column_start":1,"column_end":74}},{"value":"/ * `S`: This describes where the generation lock is stored and how it works (this allows tuning","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29263,"byte_end":29361,"line_start":625,"line_end":625,"column_start":1,"column_end":99}},{"value":"/   some of the performance trade-offs). See the [`LockStorage`][LockStorage] trait.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29362,"byte_end":29448,"line_start":626,"line_end":626,"column_start":1,"column_end":87}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29449,"byte_end":29452,"line_start":627,"line_end":627,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29453,"byte_end":29467,"line_start":628,"line_end":628,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29468,"byte_end":29471,"line_start":629,"line_end":629,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29472,"byte_end":29483,"line_start":630,"line_end":630,"column_start":1,"column_end":12}},{"value":"/ # use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29484,"byte_end":29509,"line_start":631,"line_end":631,"column_start":1,"column_end":26}},{"value":"/ # use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29510,"byte_end":29538,"line_start":632,"line_end":632,"column_start":1,"column_end":29}},{"value":"/ let arc = Arc::new(42);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29539,"byte_end":29566,"line_start":633,"line_end":633,"column_start":1,"column_end":28}},{"value":"/ let arc_swap = ArcSwap::from(arc);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29567,"byte_end":29605,"line_start":634,"line_end":634,"column_start":1,"column_end":39}},{"value":"/ assert_eq!(42, **arc_swap.load());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29606,"byte_end":29644,"line_start":635,"line_end":635,"column_start":1,"column_end":39}},{"value":"/ // It can be read multiple times","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29645,"byte_end":29681,"line_start":636,"line_end":636,"column_start":1,"column_end":37}},{"value":"/ assert_eq!(42, **arc_swap.load());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29682,"byte_end":29720,"line_start":637,"line_end":637,"column_start":1,"column_end":39}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29721,"byte_end":29724,"line_start":638,"line_end":638,"column_start":1,"column_end":4}},{"value":"/ // Put a new one in there","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29725,"byte_end":29754,"line_start":639,"line_end":639,"column_start":1,"column_end":30}},{"value":"/ let new_arc = Arc::new(0);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29755,"byte_end":29785,"line_start":640,"line_end":640,"column_start":1,"column_end":31}},{"value":"/ assert_eq!(42, *arc_swap.swap(new_arc));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29786,"byte_end":29830,"line_start":641,"line_end":641,"column_start":1,"column_end":45}},{"value":"/ assert_eq!(0, **arc_swap.load());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29831,"byte_end":29868,"line_start":642,"line_end":642,"column_start":1,"column_end":38}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29869,"byte_end":29876,"line_start":643,"line_end":643,"column_start":1,"column_end":8}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29877,"byte_end":29880,"line_start":644,"line_end":644,"column_start":1,"column_end":4}},{"value":"/ [`Arc`]: https://doc.rust-lang.org/std/sync/struct.Arc.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29881,"byte_end":29944,"line_start":645,"line_end":645,"column_start":1,"column_end":64}},{"value":"/ [`from`]: https://doc.rust-lang.org/nightly/std/convert/trait.From.html#tymethod.from","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":29945,"byte_end":30034,"line_start":646,"line_end":646,"column_start":1,"column_end":90}},{"value":"/ [`RefCnt`]: trait.RefCnt.html","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":30035,"byte_end":30068,"line_start":647,"line_end":647,"column_start":1,"column_end":34}}]},{"kind":"Method","id":{"krate":0,"index":507},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32049,"byte_end":32052,"line_start":719,"line_end":719,"column_start":12,"column_end":15},"name":"new","qualname":"<ArcSwapAny<T, S>>::new","value":"pub fn new(T) -> Self","parent":null,"children":[],"decl_id":null,"docs":" Constructs a new value.\n","sig":null,"attributes":[{"value":"/ Constructs a new value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32010,"byte_end":32037,"line_start":718,"line_end":718,"column_start":5,"column_end":32}}]},{"kind":"Method","id":{"krate":0,"index":508},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32148,"byte_end":32158,"line_start":724,"line_end":724,"column_start":12,"column_end":22},"name":"into_inner","qualname":"<ArcSwapAny<T, S>>::into_inner","value":"pub fn into_inner(Self) -> T","parent":null,"children":[],"decl_id":null,"docs":" Extracts the value inside.\n","sig":null,"attributes":[{"value":"/ Extracts the value inside.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32106,"byte_end":32136,"line_start":723,"line_end":723,"column_start":5,"column_end":35}}]},{"kind":"Method","id":{"krate":0,"index":509},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32687,"byte_end":32696,"line_start":739,"line_end":739,"column_start":12,"column_end":21},"name":"load_full","qualname":"<ArcSwapAny<T, S>>::load_full","value":"pub fn load_full(&Self) -> T","parent":null,"children":[],"decl_id":null,"docs":" Loads the value.","sig":null,"attributes":[{"value":"/ Loads the value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32357,"byte_end":32377,"line_start":732,"line_end":732,"column_start":5,"column_end":25}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32382,"byte_end":32385,"line_start":733,"line_end":733,"column_start":5,"column_end":8}},{"value":"/ This makes another copy of the held pointer and returns it, atomically (it is","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32390,"byte_end":32471,"line_start":734,"line_end":734,"column_start":5,"column_end":86}},{"value":"/ safe even when other thread stores into the same instance at the same time).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32476,"byte_end":32556,"line_start":735,"line_end":735,"column_start":5,"column_end":85}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32561,"byte_end":32564,"line_start":736,"line_end":736,"column_start":5,"column_end":8}},{"value":"/ The method is lock-free and wait-free, but usually more expensive than","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32569,"byte_end":32643,"line_start":737,"line_end":737,"column_start":5,"column_end":79}},{"value":"/ [`load`](#method.load).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":32648,"byte_end":32675,"line_start":738,"line_end":738,"column_start":5,"column_end":32}}]},{"kind":"Method","id":{"krate":0,"index":511},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":34259,"byte_end":34275,"line_start":773,"line_end":773,"column_start":12,"column_end":28},"name":"load_signal_safe","qualname":"<ArcSwapAny<T, S>>::load_signal_safe","value":"pub fn load_signal_safe(&Self) -> Guard<, T>","parent":null,"children":[],"decl_id":null,"docs":" An async-signal-safe version of [`load`](#method.load)","sig":null,"attributes":[{"value":"/ An async-signal-safe version of [`load`](#method.load)","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33133,"byte_end":33191,"line_start":755,"line_end":755,"column_start":5,"column_end":63}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33196,"byte_end":33199,"line_start":756,"line_end":756,"column_start":5,"column_end":8}},{"value":"/ This method uses only restricted set of primitives to be async-signal-safe, so it can be","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33204,"byte_end":33296,"line_start":757,"line_end":757,"column_start":5,"column_end":97}},{"value":"/ used inside unix signal handlers. It has no advantages outside of them and it has its own","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33301,"byte_end":33394,"line_start":758,"line_end":758,"column_start":5,"column_end":98}},{"value":"/ downsides, so there's no reason to use it outside of them.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33399,"byte_end":33461,"line_start":759,"line_end":759,"column_start":5,"column_end":67}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33466,"byte_end":33469,"line_start":760,"line_end":760,"column_start":5,"column_end":8}},{"value":"/ # Warning","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33474,"byte_end":33487,"line_start":761,"line_end":761,"column_start":5,"column_end":18}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33492,"byte_end":33495,"line_start":762,"line_end":762,"column_start":5,"column_end":8}},{"value":"/ While the method itself is lock-free (it will not be blocked by anything other threads do),","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33500,"byte_end":33595,"line_start":763,"line_end":763,"column_start":5,"column_end":100}},{"value":"/ methods that write are blocked from completion until the returned","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33600,"byte_end":33669,"line_start":764,"line_end":764,"column_start":5,"column_end":74}},{"value":"/ [`Guard`](struct.Guard.html) is dropped. This includes [`store`](#method.store),","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33674,"byte_end":33758,"line_start":765,"line_end":765,"column_start":5,"column_end":89}},{"value":"/ [`compare_and_swap`](#method.compare_and_swap) and [`rcu`](#method.rcu) and destruction of","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33763,"byte_end":33857,"line_start":766,"line_end":766,"column_start":5,"column_end":99}},{"value":"/ the `ArcSwapAny` instance.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33862,"byte_end":33892,"line_start":767,"line_end":767,"column_start":5,"column_end":35}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33897,"byte_end":33900,"line_start":768,"line_end":768,"column_start":5,"column_end":8}},{"value":"/ By default, the locks are *shared* across all the instances in the program, therefore it","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":33905,"byte_end":33997,"line_start":769,"line_end":769,"column_start":5,"column_end":97}},{"value":"/ blocks writes even to *other* `ArcSwapAny` instances. It is possible to use a private lock","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":34002,"byte_end":34096,"line_start":770,"line_end":770,"column_start":5,"column_end":99}},{"value":"/ (which is recommended if you want to do use this method) by using the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":34101,"byte_end":34174,"line_start":771,"line_end":771,"column_start":5,"column_end":78}},{"value":"/ [`IndependentArcSwap`](type.IndependentArcSwap.html) type alias.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":34179,"byte_end":34247,"line_start":772,"line_end":772,"column_start":5,"column_end":73}}]},{"kind":"Method","id":{"krate":0,"index":513},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37598,"byte_end":37602,"line_start":852,"line_end":852,"column_start":12,"column_end":16},"name":"load","qualname":"<ArcSwapAny<T, S>>::load","value":"pub fn load(&Self) -> Guard","parent":null,"children":[],"decl_id":null,"docs":" Provides a temporary borrow of the object inside.","sig":null,"attributes":[{"value":"/ Provides a temporary borrow of the object inside.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":35462,"byte_end":35515,"line_start":806,"line_end":806,"column_start":5,"column_end":58}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":35520,"byte_end":35523,"line_start":807,"line_end":807,"column_start":5,"column_end":8}},{"value":"/ This returns a proxy object allowing access to the thing held inside.  However, there's","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":35528,"byte_end":35619,"line_start":808,"line_end":808,"column_start":5,"column_end":96}},{"value":"/ only limited amount of possible cheap proxies in existence for each thread ‒ if more are","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":35624,"byte_end":35718,"line_start":809,"line_end":809,"column_start":5,"column_end":97}},{"value":"/ created, it falls back to equivalent of [`load_full`](#method.load_full) internally.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":35723,"byte_end":35811,"line_start":810,"line_end":810,"column_start":5,"column_end":93}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":35816,"byte_end":35819,"line_start":811,"line_end":811,"column_start":5,"column_end":8}},{"value":"/ This is therefore a good choice to use for eg. searching a data structure or juggling the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":35824,"byte_end":35917,"line_start":812,"line_end":812,"column_start":5,"column_end":98}},{"value":"/ pointers around a bit, but not as something to store in larger amounts. The rule of thumb","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":35922,"byte_end":36015,"line_start":813,"line_end":813,"column_start":5,"column_end":98}},{"value":"/ is this is suited for local variables on stack, but not in long-living data structures.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36020,"byte_end":36111,"line_start":814,"line_end":814,"column_start":5,"column_end":96}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36116,"byte_end":36119,"line_start":815,"line_end":815,"column_start":5,"column_end":8}},{"value":"/ # Consistency","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36124,"byte_end":36141,"line_start":816,"line_end":816,"column_start":5,"column_end":22}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36146,"byte_end":36149,"line_start":817,"line_end":817,"column_start":5,"column_end":8}},{"value":"/ In case multiple related operations are to be done on the loaded value, it is generally","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36154,"byte_end":36245,"line_start":818,"line_end":818,"column_start":5,"column_end":96}},{"value":"/ recommended to call `load` just once and keep the result over calling it multiple times.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36250,"byte_end":36342,"line_start":819,"line_end":819,"column_start":5,"column_end":97}},{"value":"/ First, keeping it is usually faster. But more importantly, the value can change between the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36347,"byte_end":36442,"line_start":820,"line_end":820,"column_start":5,"column_end":100}},{"value":"/ calls to load, returning different objects, which could lead to logical inconsistency.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36447,"byte_end":36537,"line_start":821,"line_end":821,"column_start":5,"column_end":95}},{"value":"/ Keeping the result makes sure the same object is used.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36542,"byte_end":36600,"line_start":822,"line_end":822,"column_start":5,"column_end":63}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36605,"byte_end":36608,"line_start":823,"line_end":823,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36613,"byte_end":36624,"line_start":824,"line_end":824,"column_start":5,"column_end":16}},{"value":"/ # use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36629,"byte_end":36657,"line_start":825,"line_end":825,"column_start":5,"column_end":33}},{"value":"/ struct Point {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36662,"byte_end":36680,"line_start":826,"line_end":826,"column_start":5,"column_end":23}},{"value":"/     x: usize,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36685,"byte_end":36702,"line_start":827,"line_end":827,"column_start":5,"column_end":22}},{"value":"/     y: usize,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36707,"byte_end":36724,"line_start":828,"line_end":828,"column_start":5,"column_end":22}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36729,"byte_end":36734,"line_start":829,"line_end":829,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36739,"byte_end":36742,"line_start":830,"line_end":830,"column_start":5,"column_end":8}},{"value":"/ fn print_broken(p: &ArcSwap<Point>) {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36747,"byte_end":36788,"line_start":831,"line_end":831,"column_start":5,"column_end":46}},{"value":"/     // This is broken, because the x and y may come from different points,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36793,"byte_end":36871,"line_start":832,"line_end":832,"column_start":5,"column_end":83}},{"value":"/     // combining into an invalid point that never existed.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36876,"byte_end":36938,"line_start":833,"line_end":833,"column_start":5,"column_end":67}},{"value":"/     println!(\"X: {}\", p.load().x);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36943,"byte_end":36981,"line_start":834,"line_end":834,"column_start":5,"column_end":43}},{"value":"/     // If someone changes the content now, between these two loads, we","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":36986,"byte_end":37060,"line_start":835,"line_end":835,"column_start":5,"column_end":79}},{"value":"/     // have a problem","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37065,"byte_end":37090,"line_start":836,"line_end":836,"column_start":5,"column_end":30}},{"value":"/     println!(\"Y: {}\", p.load().y);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37095,"byte_end":37133,"line_start":837,"line_end":837,"column_start":5,"column_end":43}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37138,"byte_end":37143,"line_start":838,"line_end":838,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37148,"byte_end":37151,"line_start":839,"line_end":839,"column_start":5,"column_end":8}},{"value":"/ fn print_correct(p: &ArcSwap<Point>) {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37156,"byte_end":37198,"line_start":840,"line_end":840,"column_start":5,"column_end":47}},{"value":"/     // Here we take a snapshot of one specific point so both x and y come","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37203,"byte_end":37280,"line_start":841,"line_end":841,"column_start":5,"column_end":82}},{"value":"/     // from the same one.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37285,"byte_end":37314,"line_start":842,"line_end":842,"column_start":5,"column_end":34}},{"value":"/     let point = p.load();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37319,"byte_end":37348,"line_start":843,"line_end":843,"column_start":5,"column_end":34}},{"value":"/     println!(\"X: {}\", point.x);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37353,"byte_end":37388,"line_start":844,"line_end":844,"column_start":5,"column_end":40}},{"value":"/     println!(\"Y: {}\", point.y);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37393,"byte_end":37428,"line_start":845,"line_end":845,"column_start":5,"column_end":40}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37433,"byte_end":37438,"line_start":846,"line_end":846,"column_start":5,"column_end":10}},{"value":"/ # let p = ArcSwap::from_pointee(Point { x: 10, y: 20 });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37443,"byte_end":37503,"line_start":847,"line_end":847,"column_start":5,"column_end":65}},{"value":"/ # print_correct(&p);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37508,"byte_end":37532,"line_start":848,"line_end":848,"column_start":5,"column_end":29}},{"value":"/ # print_broken(&p);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37537,"byte_end":37560,"line_start":849,"line_end":849,"column_start":5,"column_end":28}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37565,"byte_end":37572,"line_start":850,"line_end":850,"column_start":5,"column_end":12}},{"value":"inline","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37577,"byte_end":37586,"line_start":851,"line_end":851,"column_start":5,"column_end":14}}]},{"kind":"Method","id":{"krate":0,"index":515},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37918,"byte_end":37923,"line_start":860,"line_end":860,"column_start":12,"column_end":17},"name":"store","qualname":"<ArcSwapAny<T, S>>::store","value":"pub fn store(&Self, T)","parent":null,"children":[],"decl_id":null,"docs":" Replaces the value inside this instance.","sig":null,"attributes":[{"value":"/ Replaces the value inside this instance.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37766,"byte_end":37810,"line_start":857,"line_end":857,"column_start":5,"column_end":49}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37815,"byte_end":37818,"line_start":858,"line_end":858,"column_start":5,"column_end":8}},{"value":"/ Further loads will yield the new value. Uses [`swap`](#method.swap) internally.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37823,"byte_end":37906,"line_start":859,"line_end":859,"column_start":5,"column_end":88}}]},{"kind":"Method","id":{"krate":0,"index":516},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38873,"byte_end":38877,"line_start":883,"line_end":883,"column_start":12,"column_end":16},"name":"swap","qualname":"<ArcSwapAny<T, S>>::swap","value":"pub fn swap(&Self, T) -> T","parent":null,"children":[],"decl_id":null,"docs":" Exchanges the value inside this instance.","sig":null,"attributes":[{"value":"/ Exchanges the value inside this instance.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":37982,"byte_end":38027,"line_start":864,"line_end":864,"column_start":5,"column_end":50}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38032,"byte_end":38035,"line_start":865,"line_end":865,"column_start":5,"column_end":8}},{"value":"/ Note that this method is *not* lock-free. In particular, it is possible to block this","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38040,"byte_end":38129,"line_start":866,"line_end":866,"column_start":5,"column_end":94}},{"value":"/ method by using the [`load_signal_safe`](#method.load_signal_safe), but","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38134,"byte_end":38209,"line_start":867,"line_end":867,"column_start":5,"column_end":80}},{"value":"/ [`load`](#method.load) may also block it for very short time (several CPU instructions). If","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38214,"byte_end":38309,"line_start":868,"line_end":868,"column_start":5,"column_end":100}},{"value":"/ this happens, `swap` will busy-wait in the meantime.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38314,"byte_end":38370,"line_start":869,"line_end":869,"column_start":5,"column_end":61}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38375,"byte_end":38378,"line_start":870,"line_end":870,"column_start":5,"column_end":8}},{"value":"/ It is also possible to cause a deadlock (eg. this is an example of *broken* code):","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38383,"byte_end":38469,"line_start":871,"line_end":871,"column_start":5,"column_end":91}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38474,"byte_end":38477,"line_start":872,"line_end":872,"column_start":5,"column_end":8}},{"value":"/ ```rust,no_run","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38482,"byte_end":38500,"line_start":873,"line_end":873,"column_start":5,"column_end":23}},{"value":"/ # use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38505,"byte_end":38530,"line_start":874,"line_end":874,"column_start":5,"column_end":30}},{"value":"/ # use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38535,"byte_end":38563,"line_start":875,"line_end":875,"column_start":5,"column_end":33}},{"value":"/ let shared = ArcSwap::from(Arc::new(42));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38568,"byte_end":38613,"line_start":876,"line_end":876,"column_start":5,"column_end":50}},{"value":"/ let guard = shared.load_signal_safe();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38618,"byte_end":38660,"line_start":877,"line_end":877,"column_start":5,"column_end":47}},{"value":"/ // This will deadlock, because the guard is still active here and swap","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38665,"byte_end":38739,"line_start":878,"line_end":878,"column_start":5,"column_end":79}},{"value":"/ // can't pull the value from under its feet.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38744,"byte_end":38792,"line_start":879,"line_end":879,"column_start":5,"column_end":53}},{"value":"/ shared.swap(Arc::new(0));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38797,"byte_end":38826,"line_start":880,"line_end":880,"column_start":5,"column_end":34}},{"value":"/ # drop(guard);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38831,"byte_end":38849,"line_start":881,"line_end":881,"column_start":5,"column_end":23}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":38854,"byte_end":38861,"line_start":882,"line_end":882,"column_start":5,"column_end":12}}]},{"kind":"Method","id":{"krate":0,"index":517},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":40090,"byte_end":40106,"line_start":909,"line_end":909,"column_start":12,"column_end":28},"name":"compare_and_swap","qualname":"<ArcSwapAny<T, S>>::compare_and_swap","value":"pub fn compare_and_swap<C: AsRaw<T::Base>>(&Self, C, T) -> Guard<, T>","parent":null,"children":[],"decl_id":null,"docs":" Swaps the stored Arc if it equals to `current`.","sig":null,"attributes":[{"value":"/ Swaps the stored Arc if it equals to `current`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39271,"byte_end":39322,"line_start":894,"line_end":894,"column_start":5,"column_end":56}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39327,"byte_end":39330,"line_start":895,"line_end":895,"column_start":5,"column_end":8}},{"value":"/ If the current value of the `ArcSwapAny` equals to `current`, the `new` is stored inside.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39335,"byte_end":39428,"line_start":896,"line_end":896,"column_start":5,"column_end":98}},{"value":"/ If not, nothing happens.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39433,"byte_end":39461,"line_start":897,"line_end":897,"column_start":5,"column_end":33}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39466,"byte_end":39469,"line_start":898,"line_end":898,"column_start":5,"column_end":8}},{"value":"/ The previous value (no matter if the swap happened or not) is returned. Therefore, if the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39474,"byte_end":39567,"line_start":899,"line_end":899,"column_start":5,"column_end":98}},{"value":"/ returned value is equal to `current`, the swap happened. You want to do a pointer-based","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39572,"byte_end":39663,"line_start":900,"line_end":900,"column_start":5,"column_end":96}},{"value":"/ comparison to determine it.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39668,"byte_end":39699,"line_start":901,"line_end":901,"column_start":5,"column_end":36}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39704,"byte_end":39707,"line_start":902,"line_end":902,"column_start":5,"column_end":8}},{"value":"/ In other words, if the caller „guesses“ the value of current correctly, it acts like","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39712,"byte_end":39804,"line_start":903,"line_end":903,"column_start":5,"column_end":93}},{"value":"/ [`swap`](#method.swap), otherwise it acts like [`load_full`](#method.load_full) (including","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39809,"byte_end":39903,"line_start":904,"line_end":904,"column_start":5,"column_end":99}},{"value":"/ the limitations).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39908,"byte_end":39929,"line_start":905,"line_end":905,"column_start":5,"column_end":26}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39934,"byte_end":39937,"line_start":906,"line_end":906,"column_start":5,"column_end":8}},{"value":"/ The `current` can be specified as `&Arc`, [`Guard`](struct.Guard.html),","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":39942,"byte_end":40017,"line_start":907,"line_end":907,"column_start":5,"column_end":80}},{"value":"/ [`&Guards`](struct.Guards.html) or as a raw pointer.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":40022,"byte_end":40078,"line_start":908,"line_end":908,"column_start":5,"column_end":61}}]},{"kind":"Method","id":{"krate":0,"index":523},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48498,"byte_end":48501,"line_start":1124,"line_end":1124,"column_start":12,"column_end":15},"name":"rcu","qualname":"<ArcSwapAny<T, S>>::rcu","value":"pub fn rcu<R, F>(&Self, F) -> T where F: FnMut(&T) -> R, R: Into<T>","parent":null,"children":[],"decl_id":null,"docs":" Read-Copy-Update of the pointer inside.","sig":null,"attributes":[{"value":"/ Read-Copy-Update of the pointer inside.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44026,"byte_end":44069,"line_start":1004,"line_end":1004,"column_start":5,"column_end":48}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44074,"byte_end":44077,"line_start":1005,"line_end":1005,"column_start":5,"column_end":8}},{"value":"/ This is useful in read-heavy situations with several threads that sometimes update the data","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44082,"byte_end":44177,"line_start":1006,"line_end":1006,"column_start":5,"column_end":100}},{"value":"/ pointed to. The readers can just repeatedly use [`load`](#method.load) without any locking.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44182,"byte_end":44277,"line_start":1007,"line_end":1007,"column_start":5,"column_end":100}},{"value":"/ The writer uses this method to perform the update.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44282,"byte_end":44336,"line_start":1008,"line_end":1008,"column_start":5,"column_end":59}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44341,"byte_end":44344,"line_start":1009,"line_end":1009,"column_start":5,"column_end":8}},{"value":"/ In case there's only one thread that does updates or in case the next version is","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44349,"byte_end":44433,"line_start":1010,"line_end":1010,"column_start":5,"column_end":89}},{"value":"/ independent of the previous one, simple [`swap`](#method.swap) or [`store`](#method.store)","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44438,"byte_end":44532,"line_start":1011,"line_end":1011,"column_start":5,"column_end":99}},{"value":"/ is enough. Otherwise, it may be needed to retry the update operation if some other thread","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44537,"byte_end":44630,"line_start":1012,"line_end":1012,"column_start":5,"column_end":98}},{"value":"/ made an update in between. This is what this method does.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44635,"byte_end":44696,"line_start":1013,"line_end":1013,"column_start":5,"column_end":66}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44701,"byte_end":44704,"line_start":1014,"line_end":1014,"column_start":5,"column_end":8}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44709,"byte_end":44723,"line_start":1015,"line_end":1015,"column_start":5,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44728,"byte_end":44731,"line_start":1016,"line_end":1016,"column_start":5,"column_end":8}},{"value":"/ This will *not* work as expected, because between loading and storing, some other thread","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44736,"byte_end":44828,"line_start":1017,"line_end":1017,"column_start":5,"column_end":97}},{"value":"/ might have updated the value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44833,"byte_end":44866,"line_start":1018,"line_end":1018,"column_start":5,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44871,"byte_end":44874,"line_start":1019,"line_end":1019,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44879,"byte_end":44890,"line_start":1020,"line_end":1020,"column_start":5,"column_end":16}},{"value":"/ extern crate arc_swap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44895,"byte_end":44921,"line_start":1021,"line_end":1021,"column_start":5,"column_end":31}},{"value":"/ extern crate crossbeam_utils;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44926,"byte_end":44959,"line_start":1022,"line_end":1022,"column_start":5,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44964,"byte_end":44967,"line_start":1023,"line_end":1023,"column_start":5,"column_end":8}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":44972,"byte_end":44995,"line_start":1024,"line_end":1024,"column_start":5,"column_end":28}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45000,"byte_end":45003,"line_start":1025,"line_end":1025,"column_start":5,"column_end":8}},{"value":"/ use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45008,"byte_end":45034,"line_start":1026,"line_end":1026,"column_start":5,"column_end":31}},{"value":"/ use crossbeam_utils::thread;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45039,"byte_end":45071,"line_start":1027,"line_end":1027,"column_start":5,"column_end":37}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45076,"byte_end":45079,"line_start":1028,"line_end":1028,"column_start":5,"column_end":8}},{"value":"/ fn main() {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45084,"byte_end":45099,"line_start":1029,"line_end":1029,"column_start":5,"column_end":20}},{"value":"/     let cnt = ArcSwap::from(Arc::new(0));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45104,"byte_end":45149,"line_start":1030,"line_end":1030,"column_start":5,"column_end":50}},{"value":"/     thread::scope(|scope| {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45154,"byte_end":45185,"line_start":1031,"line_end":1031,"column_start":5,"column_end":36}},{"value":"/         for _ in 0..10 {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45190,"byte_end":45218,"line_start":1032,"line_end":1032,"column_start":5,"column_end":33}},{"value":"/             scope.spawn(|_| {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45223,"byte_end":45256,"line_start":1033,"line_end":1033,"column_start":5,"column_end":38}},{"value":"/                 let inner = cnt.load_full();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45261,"byte_end":45309,"line_start":1034,"line_end":1034,"column_start":5,"column_end":53}},{"value":"/                 // Another thread might have stored some other number than what we have","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45314,"byte_end":45405,"line_start":1035,"line_end":1035,"column_start":5,"column_end":96}},{"value":"/                 // between the load and store.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45410,"byte_end":45460,"line_start":1036,"line_end":1036,"column_start":5,"column_end":55}},{"value":"/                 cnt.store(Arc::new(*inner + 1));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45465,"byte_end":45517,"line_start":1037,"line_end":1037,"column_start":5,"column_end":57}},{"value":"/             });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45522,"byte_end":45541,"line_start":1038,"line_end":1038,"column_start":5,"column_end":24}},{"value":"/         }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45546,"byte_end":45559,"line_start":1039,"line_end":1039,"column_start":5,"column_end":18}},{"value":"/     }).unwrap();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45564,"byte_end":45584,"line_start":1040,"line_end":1040,"column_start":5,"column_end":25}},{"value":"/     // This will likely fail:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45589,"byte_end":45622,"line_start":1041,"line_end":1041,"column_start":5,"column_end":38}},{"value":"/     // assert_eq!(10, *cnt.load_full());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45627,"byte_end":45671,"line_start":1042,"line_end":1042,"column_start":5,"column_end":49}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45676,"byte_end":45681,"line_start":1043,"line_end":1043,"column_start":5,"column_end":10}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45686,"byte_end":45693,"line_start":1044,"line_end":1044,"column_start":5,"column_end":12}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45698,"byte_end":45701,"line_start":1045,"line_end":1045,"column_start":5,"column_end":8}},{"value":"/ This will, but it can call the closure multiple times to retry:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45706,"byte_end":45773,"line_start":1046,"line_end":1046,"column_start":5,"column_end":72}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45778,"byte_end":45781,"line_start":1047,"line_end":1047,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45786,"byte_end":45797,"line_start":1048,"line_end":1048,"column_start":5,"column_end":16}},{"value":"/ extern crate arc_swap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45802,"byte_end":45828,"line_start":1049,"line_end":1049,"column_start":5,"column_end":31}},{"value":"/ extern crate crossbeam_utils;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45833,"byte_end":45866,"line_start":1050,"line_end":1050,"column_start":5,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45871,"byte_end":45874,"line_start":1051,"line_end":1051,"column_start":5,"column_end":8}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45879,"byte_end":45902,"line_start":1052,"line_end":1052,"column_start":5,"column_end":28}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45907,"byte_end":45910,"line_start":1053,"line_end":1053,"column_start":5,"column_end":8}},{"value":"/ use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45915,"byte_end":45941,"line_start":1054,"line_end":1054,"column_start":5,"column_end":31}},{"value":"/ use crossbeam_utils::thread;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45946,"byte_end":45978,"line_start":1055,"line_end":1055,"column_start":5,"column_end":37}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45983,"byte_end":45986,"line_start":1056,"line_end":1056,"column_start":5,"column_end":8}},{"value":"/ fn main() {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":45991,"byte_end":46006,"line_start":1057,"line_end":1057,"column_start":5,"column_end":20}},{"value":"/     let cnt = ArcSwap::from(Arc::new(0));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46011,"byte_end":46056,"line_start":1058,"line_end":1058,"column_start":5,"column_end":50}},{"value":"/     thread::scope(|scope| {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46061,"byte_end":46092,"line_start":1059,"line_end":1059,"column_start":5,"column_end":36}},{"value":"/         for _ in 0..10 {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46097,"byte_end":46125,"line_start":1060,"line_end":1060,"column_start":5,"column_end":33}},{"value":"/             scope.spawn(|_| cnt.rcu(|inner| **inner + 1));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46130,"byte_end":46192,"line_start":1061,"line_end":1061,"column_start":5,"column_end":67}},{"value":"/         }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46197,"byte_end":46210,"line_start":1062,"line_end":1062,"column_start":5,"column_end":18}},{"value":"/     }).unwrap();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46215,"byte_end":46235,"line_start":1063,"line_end":1063,"column_start":5,"column_end":25}},{"value":"/     assert_eq!(10, *cnt.load_full());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46240,"byte_end":46281,"line_start":1064,"line_end":1064,"column_start":5,"column_end":46}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46286,"byte_end":46291,"line_start":1065,"line_end":1065,"column_start":5,"column_end":10}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46296,"byte_end":46303,"line_start":1066,"line_end":1066,"column_start":5,"column_end":12}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46308,"byte_end":46311,"line_start":1067,"line_end":1067,"column_start":5,"column_end":8}},{"value":"/ Due to the retries, you might want to perform all the expensive operations *before* the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46316,"byte_end":46407,"line_start":1068,"line_end":1068,"column_start":5,"column_end":96}},{"value":"/ rcu. As an example, if there's a cache of some computations as a map, and the map is cheap","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46412,"byte_end":46506,"line_start":1069,"line_end":1069,"column_start":5,"column_end":99}},{"value":"/ to clone but the computations are not, you could do something like this:","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46511,"byte_end":46587,"line_start":1070,"line_end":1070,"column_start":5,"column_end":81}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46592,"byte_end":46595,"line_start":1071,"line_end":1071,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46600,"byte_end":46611,"line_start":1072,"line_end":1072,"column_start":5,"column_end":16}},{"value":"/ extern crate arc_swap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46616,"byte_end":46642,"line_start":1073,"line_end":1073,"column_start":5,"column_end":31}},{"value":"/ extern crate crossbeam_utils;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46647,"byte_end":46680,"line_start":1074,"line_end":1074,"column_start":5,"column_end":38}},{"value":"/ #[macro_use]","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46685,"byte_end":46701,"line_start":1075,"line_end":1075,"column_start":5,"column_end":21}},{"value":"/ extern crate lazy_static;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46706,"byte_end":46735,"line_start":1076,"line_end":1076,"column_start":5,"column_end":34}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46740,"byte_end":46743,"line_start":1077,"line_end":1077,"column_start":5,"column_end":8}},{"value":"/ use std::collections::HashMap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46748,"byte_end":46782,"line_start":1078,"line_end":1078,"column_start":5,"column_end":39}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46787,"byte_end":46810,"line_start":1079,"line_end":1079,"column_start":5,"column_end":28}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46815,"byte_end":46818,"line_start":1080,"line_end":1080,"column_start":5,"column_end":8}},{"value":"/ use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46823,"byte_end":46849,"line_start":1081,"line_end":1081,"column_start":5,"column_end":31}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46854,"byte_end":46857,"line_start":1082,"line_end":1082,"column_start":5,"column_end":8}},{"value":"/ fn expensive_computation(x: usize) -> usize {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46862,"byte_end":46911,"line_start":1083,"line_end":1083,"column_start":5,"column_end":54}},{"value":"/     x * 2 // Let's pretend multiplication is really expensive","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46916,"byte_end":46981,"line_start":1084,"line_end":1084,"column_start":5,"column_end":70}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46986,"byte_end":46991,"line_start":1085,"line_end":1085,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":46996,"byte_end":46999,"line_start":1086,"line_end":1086,"column_start":5,"column_end":8}},{"value":"/ type Cache = HashMap<usize, usize>;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47004,"byte_end":47043,"line_start":1087,"line_end":1087,"column_start":5,"column_end":44}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47048,"byte_end":47051,"line_start":1088,"line_end":1088,"column_start":5,"column_end":8}},{"value":"/ lazy_static! {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47056,"byte_end":47074,"line_start":1089,"line_end":1089,"column_start":5,"column_end":23}},{"value":"/     static ref CACHE: ArcSwap<Cache> = ArcSwap::from(Arc::new(HashMap::new()));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47079,"byte_end":47162,"line_start":1090,"line_end":1090,"column_start":5,"column_end":88}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47167,"byte_end":47172,"line_start":1091,"line_end":1091,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47177,"byte_end":47180,"line_start":1092,"line_end":1092,"column_start":5,"column_end":8}},{"value":"/ fn cached_computation(x: usize) -> usize {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47185,"byte_end":47231,"line_start":1093,"line_end":1093,"column_start":5,"column_end":51}},{"value":"/     let cache = CACHE.load();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47236,"byte_end":47269,"line_start":1094,"line_end":1094,"column_start":5,"column_end":38}},{"value":"/     if let Some(result) = cache.get(&x) {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47274,"byte_end":47319,"line_start":1095,"line_end":1095,"column_start":5,"column_end":50}},{"value":"/         return *result;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47324,"byte_end":47351,"line_start":1096,"line_end":1096,"column_start":5,"column_end":32}},{"value":"/     }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47356,"byte_end":47365,"line_start":1097,"line_end":1097,"column_start":5,"column_end":14}},{"value":"/     // Not in cache. Compute and store.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47370,"byte_end":47413,"line_start":1098,"line_end":1098,"column_start":5,"column_end":48}},{"value":"/     // The expensive computation goes outside, so it is not retried.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47418,"byte_end":47490,"line_start":1099,"line_end":1099,"column_start":5,"column_end":77}},{"value":"/     let result = expensive_computation(x);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47495,"byte_end":47541,"line_start":1100,"line_end":1100,"column_start":5,"column_end":51}},{"value":"/     CACHE.rcu(|cache| {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47546,"byte_end":47573,"line_start":1101,"line_end":1101,"column_start":5,"column_end":32}},{"value":"/         // The cheaper clone of the cache can be retried if need be.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47578,"byte_end":47650,"line_start":1102,"line_end":1102,"column_start":5,"column_end":77}},{"value":"/         let mut cache = HashMap::clone(&cache);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47655,"byte_end":47706,"line_start":1103,"line_end":1103,"column_start":5,"column_end":56}},{"value":"/         cache.insert(x, result);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47711,"byte_end":47747,"line_start":1104,"line_end":1104,"column_start":5,"column_end":41}},{"value":"/         cache","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47752,"byte_end":47769,"line_start":1105,"line_end":1105,"column_start":5,"column_end":22}},{"value":"/     });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47774,"byte_end":47785,"line_start":1106,"line_end":1106,"column_start":5,"column_end":16}},{"value":"/     result","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47790,"byte_end":47804,"line_start":1107,"line_end":1107,"column_start":5,"column_end":19}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47809,"byte_end":47814,"line_start":1108,"line_end":1108,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47819,"byte_end":47822,"line_start":1109,"line_end":1109,"column_start":5,"column_end":8}},{"value":"/ fn main() {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47827,"byte_end":47842,"line_start":1110,"line_end":1110,"column_start":5,"column_end":20}},{"value":"/     assert_eq!(42, cached_computation(21));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47847,"byte_end":47894,"line_start":1111,"line_end":1111,"column_start":5,"column_end":52}},{"value":"/     assert_eq!(42, cached_computation(21));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47899,"byte_end":47946,"line_start":1112,"line_end":1112,"column_start":5,"column_end":52}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47951,"byte_end":47956,"line_start":1113,"line_end":1113,"column_start":5,"column_end":10}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47961,"byte_end":47968,"line_start":1114,"line_end":1114,"column_start":5,"column_end":12}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47973,"byte_end":47976,"line_start":1115,"line_end":1115,"column_start":5,"column_end":8}},{"value":"/ # The cost of cloning","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":47981,"byte_end":48006,"line_start":1116,"line_end":1116,"column_start":5,"column_end":30}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48011,"byte_end":48014,"line_start":1117,"line_end":1117,"column_start":5,"column_end":8}},{"value":"/ Depending on the size of cache above, the cloning might not be as cheap. You can however","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48019,"byte_end":48111,"line_start":1118,"line_end":1118,"column_start":5,"column_end":97}},{"value":"/ use persistent data structures ‒ each modification creates a new data structure, but it","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48116,"byte_end":48209,"line_start":1119,"line_end":1119,"column_start":5,"column_end":96}},{"value":"/ shares most of the data with the old one (which is usually accomplished by using `Arc`s","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48214,"byte_end":48305,"line_start":1120,"line_end":1120,"column_start":5,"column_end":96}},{"value":"/ inside to share the unchanged values). Something like","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48310,"byte_end":48367,"line_start":1121,"line_end":1121,"column_start":5,"column_end":62}},{"value":"/ [`rpds`](https://crates.io/crates/rpds) or [`im`](https://crates.io/crates/im) might do","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48372,"byte_end":48463,"line_start":1122,"line_end":1122,"column_start":5,"column_end":96}},{"value":"/ what you need.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48468,"byte_end":48486,"line_start":1123,"line_end":1123,"column_start":5,"column_end":23}}]},{"kind":"Method","id":{"krate":0,"index":526},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50859,"byte_end":50862,"line_start":1194,"line_end":1194,"column_start":12,"column_end":15},"name":"map","qualname":"<ArcSwapAny<T, S>>::map","value":"pub fn map<I, R, F>(&Self, F) -> Map<&Self, I, F> where F: Fn(&I) -> &R,\nSelf: Access<I>","parent":null,"children":[],"decl_id":null,"docs":" Provides an access to an up to date projection of the carried data.","sig":null,"attributes":[{"value":"/ Provides an access to an up to date projection of the carried data.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":48942,"byte_end":49013,"line_start":1142,"line_end":1142,"column_start":5,"column_end":76}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49018,"byte_end":49021,"line_start":1143,"line_end":1143,"column_start":5,"column_end":8}},{"value":"/ # Motivation","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49026,"byte_end":49042,"line_start":1144,"line_end":1144,"column_start":5,"column_end":21}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49047,"byte_end":49050,"line_start":1145,"line_end":1145,"column_start":5,"column_end":8}},{"value":"/ Sometimes, an application consists of components. Each component has its own configuration","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49055,"byte_end":49149,"line_start":1146,"line_end":1146,"column_start":5,"column_end":99}},{"value":"/ structure. The whole configuration contains all the smaller config parts.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49154,"byte_end":49231,"line_start":1147,"line_end":1147,"column_start":5,"column_end":82}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49236,"byte_end":49239,"line_start":1148,"line_end":1148,"column_start":5,"column_end":8}},{"value":"/ For the sake of separation and abstraction, it is not desirable to pass the whole","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49244,"byte_end":49329,"line_start":1149,"line_end":1149,"column_start":5,"column_end":90}},{"value":"/ configuration to each of the components. This allows the component to take only access to","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49334,"byte_end":49427,"line_start":1150,"line_end":1150,"column_start":5,"column_end":98}},{"value":"/ its own part.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49432,"byte_end":49449,"line_start":1151,"line_end":1151,"column_start":5,"column_end":22}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49454,"byte_end":49457,"line_start":1152,"line_end":1152,"column_start":5,"column_end":8}},{"value":"/ # Lifetimes & flexibility","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49462,"byte_end":49491,"line_start":1153,"line_end":1153,"column_start":5,"column_end":34}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49496,"byte_end":49499,"line_start":1154,"line_end":1154,"column_start":5,"column_end":8}},{"value":"/ This method is not the most flexible way, as the returned type borrows into the `ArcSwap`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49504,"byte_end":49598,"line_start":1155,"line_end":1155,"column_start":5,"column_end":99}},{"value":"/ To provide access into eg. `Arc<ArcSwap<T>>`, you can create the [`Map`] type directly.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49603,"byte_end":49694,"line_start":1156,"line_end":1156,"column_start":5,"column_end":96}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49699,"byte_end":49702,"line_start":1157,"line_end":1157,"column_start":5,"column_end":8}},{"value":"/ # Performance","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49707,"byte_end":49724,"line_start":1158,"line_end":1158,"column_start":5,"column_end":22}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49729,"byte_end":49732,"line_start":1159,"line_end":1159,"column_start":5,"column_end":8}},{"value":"/ As the provided function is called on each load from the shared storage, it should","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49737,"byte_end":49823,"line_start":1160,"line_end":1160,"column_start":5,"column_end":91}},{"value":"/ generally be cheap. It is expected this will usually be just referencing of a field inside","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49828,"byte_end":49922,"line_start":1161,"line_end":1161,"column_start":5,"column_end":99}},{"value":"/ the structure.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49927,"byte_end":49945,"line_start":1162,"line_end":1162,"column_start":5,"column_end":23}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49950,"byte_end":49953,"line_start":1163,"line_end":1163,"column_start":5,"column_end":8}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49958,"byte_end":49972,"line_start":1164,"line_end":1164,"column_start":5,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49977,"byte_end":49980,"line_start":1165,"line_end":1165,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":49985,"byte_end":49996,"line_start":1166,"line_end":1166,"column_start":5,"column_end":16}},{"value":"/ extern crate arc_swap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50001,"byte_end":50027,"line_start":1167,"line_end":1167,"column_start":5,"column_end":31}},{"value":"/ extern crate crossbeam_utils;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50032,"byte_end":50065,"line_start":1168,"line_end":1168,"column_start":5,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50070,"byte_end":50073,"line_start":1169,"line_end":1169,"column_start":5,"column_end":8}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50078,"byte_end":50101,"line_start":1170,"line_end":1170,"column_start":5,"column_end":28}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50106,"byte_end":50109,"line_start":1171,"line_end":1171,"column_start":5,"column_end":8}},{"value":"/ use arc_swap::ArcSwap;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50114,"byte_end":50140,"line_start":1172,"line_end":1172,"column_start":5,"column_end":31}},{"value":"/ use arc_swap::access::Access;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50145,"byte_end":50178,"line_start":1173,"line_end":1173,"column_start":5,"column_end":38}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50183,"byte_end":50186,"line_start":1174,"line_end":1174,"column_start":5,"column_end":8}},{"value":"/ struct Cfg {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50191,"byte_end":50207,"line_start":1175,"line_end":1175,"column_start":5,"column_end":21}},{"value":"/     value: usize,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50212,"byte_end":50233,"line_start":1176,"line_end":1176,"column_start":5,"column_end":26}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50238,"byte_end":50243,"line_start":1177,"line_end":1177,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50248,"byte_end":50251,"line_start":1178,"line_end":1178,"column_start":5,"column_end":8}},{"value":"/ fn print_many_times<V: Access<usize>>(value: V) {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50256,"byte_end":50309,"line_start":1179,"line_end":1179,"column_start":5,"column_end":58}},{"value":"/     for _ in 0..25 {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50314,"byte_end":50338,"line_start":1180,"line_end":1180,"column_start":5,"column_end":29}},{"value":"/         let value = value.load();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50343,"byte_end":50380,"line_start":1181,"line_end":1181,"column_start":5,"column_end":42}},{"value":"/         println!(\"{}\", *value);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50385,"byte_end":50420,"line_start":1182,"line_end":1182,"column_start":5,"column_end":40}},{"value":"/     }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50425,"byte_end":50434,"line_start":1183,"line_end":1183,"column_start":5,"column_end":14}},{"value":"/ }","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50439,"byte_end":50444,"line_start":1184,"line_end":1184,"column_start":5,"column_end":10}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50449,"byte_end":50452,"line_start":1185,"line_end":1185,"column_start":5,"column_end":8}},{"value":"/ let shared = ArcSwap::from_pointee(Cfg { value: 0 });","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50457,"byte_end":50514,"line_start":1186,"line_end":1186,"column_start":5,"column_end":62}},{"value":"/ let mapped = shared.map(|c: &Cfg| &c.value);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50519,"byte_end":50567,"line_start":1187,"line_end":1187,"column_start":5,"column_end":53}},{"value":"/ crossbeam_utils::thread::scope(|s| {","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50572,"byte_end":50612,"line_start":1188,"line_end":1188,"column_start":5,"column_end":45}},{"value":"/     // Will print some zeroes and some twos","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50617,"byte_end":50664,"line_start":1189,"line_end":1189,"column_start":5,"column_end":52}},{"value":"/     s.spawn(|_| print_many_times(mapped));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50669,"byte_end":50715,"line_start":1190,"line_end":1190,"column_start":5,"column_end":51}},{"value":"/     s.spawn(|_| shared.store(Arc::new(Cfg { value: 2 })));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50720,"byte_end":50782,"line_start":1191,"line_end":1191,"column_start":5,"column_end":67}},{"value":"/ }).expect(\"Something panicked in a thread\");","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50787,"byte_end":50835,"line_start":1192,"line_end":1192,"column_start":5,"column_end":53}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":50840,"byte_end":50847,"line_start":1193,"line_end":1193,"column_start":5,"column_end":12}}]},{"kind":"Type","id":{"krate":0,"index":530},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51164,"byte_end":51171,"line_start":1207,"line_end":1207,"column_start":10,"column_end":17},"name":"ArcSwap","qualname":"::ArcSwap","value":"ArcSwapAny<Arc<T>>","parent":null,"children":[],"decl_id":null,"docs":" An atomic storage for `Arc`.","sig":null,"attributes":[{"value":"/ An atomic storage for `Arc`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51006,"byte_end":51038,"line_start":1203,"line_end":1203,"column_start":1,"column_end":33}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51039,"byte_end":51042,"line_start":1204,"line_end":1204,"column_start":1,"column_end":4}},{"value":"/ This is a type alias only. Most of its methods are described on","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51043,"byte_end":51110,"line_start":1205,"line_end":1205,"column_start":1,"column_end":68}},{"value":"/ [`ArcSwapAny`](struct.ArcSwapAny.html).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51111,"byte_end":51154,"line_start":1206,"line_end":1206,"column_start":1,"column_end":44}}]},{"kind":"Method","id":{"krate":0,"index":535},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51396,"byte_end":51408,"line_start":1213,"line_end":1213,"column_start":12,"column_end":24},"name":"from_pointee","qualname":"<ArcSwapAny<Arc<T>, S>>::from_pointee","value":"pub fn from_pointee(T) -> Self","parent":null,"children":[],"decl_id":null,"docs":" A convenience constructor directly from the pointed-to value.","sig":null,"attributes":[{"value":"/ A convenience constructor directly from the pointed-to value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51250,"byte_end":51315,"line_start":1210,"line_end":1210,"column_start":5,"column_end":70}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51320,"byte_end":51323,"line_start":1211,"line_end":1211,"column_start":5,"column_end":8}},{"value":"/ Direct equivalent for `ArcSwap::new(Arc::new(val))`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51328,"byte_end":51384,"line_start":1212,"line_end":1212,"column_start":5,"column_end":61}}]},{"kind":"Method","id":{"krate":0,"index":536},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52507,"byte_end":52517,"line_start":1234,"line_end":1234,"column_start":12,"column_end":22},"name":"rcu_unwrap","qualname":"<ArcSwapAny<Arc<T>, S>>::rcu_unwrap","value":"pub fn rcu_unwrap<R, F>(&Self, F) -> T where F: FnMut(&T) -> R,\nR: Into<Arc<T>>","parent":null,"children":[],"decl_id":null,"docs":" An [`rcu`](struct.ArcSwapAny.html#method.rcu) which waits to be the sole owner of the\n original value and unwraps it.","sig":null,"attributes":[{"value":"/ An [`rcu`](struct.ArcSwapAny.html#method.rcu) which waits to be the sole owner of the","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51472,"byte_end":51561,"line_start":1217,"line_end":1217,"column_start":5,"column_end":94}},{"value":"/ original value and unwraps it.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51566,"byte_end":51600,"line_start":1218,"line_end":1218,"column_start":5,"column_end":39}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51605,"byte_end":51608,"line_start":1219,"line_end":1219,"column_start":5,"column_end":8}},{"value":"/ This one works the same way as the [`rcu`](struct.ArcSwapAny.html#method.rcu) method, but","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51613,"byte_end":51706,"line_start":1220,"line_end":1220,"column_start":5,"column_end":98}},{"value":"/ works on the inner type instead of `Arc`. After replacing the original, it waits until","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51711,"byte_end":51801,"line_start":1221,"line_end":1221,"column_start":5,"column_end":95}},{"value":"/ there are no other owners of the arc and unwraps it.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51806,"byte_end":51862,"line_start":1222,"line_end":1222,"column_start":5,"column_end":61}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51867,"byte_end":51870,"line_start":1223,"line_end":1223,"column_start":5,"column_end":8}},{"value":"/ Possible use case might be an RCU with a structure that is rather slow to drop ‒ if it was","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51875,"byte_end":51971,"line_start":1224,"line_end":1224,"column_start":5,"column_end":99}},{"value":"/ left to random reader (the last one to hold the old value), it could cause a timeout or","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51976,"byte_end":52067,"line_start":1225,"line_end":1225,"column_start":5,"column_end":96}},{"value":"/ jitter in a query time. With this, the deallocation is done in the updater thread,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52072,"byte_end":52158,"line_start":1226,"line_end":1226,"column_start":5,"column_end":91}},{"value":"/ therefore outside of the hot path.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52163,"byte_end":52201,"line_start":1227,"line_end":1227,"column_start":5,"column_end":43}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52206,"byte_end":52209,"line_start":1228,"line_end":1228,"column_start":5,"column_end":8}},{"value":"/ # Warning","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52214,"byte_end":52227,"line_start":1229,"line_end":1229,"column_start":5,"column_end":18}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52232,"byte_end":52235,"line_start":1230,"line_end":1230,"column_start":5,"column_end":8}},{"value":"/ Note that if you store a copy of the `Arc` somewhere except the `ArcSwap` itself for","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52240,"byte_end":52328,"line_start":1231,"line_end":1231,"column_start":5,"column_end":93}},{"value":"/ extended period of time, this'll busy-wait the whole time. Unless you need the assurance","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52333,"byte_end":52425,"line_start":1232,"line_end":1232,"column_start":5,"column_end":97}},{"value":"/ the `Arc` is deconstructed here, prefer [`rcu`](#method.rcu).","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52430,"byte_end":52495,"line_start":1233,"line_end":1233,"column_start":5,"column_end":70}}]},{"kind":"Type","id":{"krate":0,"index":540},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53646,"byte_end":53659,"line_start":1272,"line_end":1272,"column_start":10,"column_end":23},"name":"ArcSwapOption","qualname":"::ArcSwapOption","value":"ArcSwapAny<Option<Arc<T>>>","parent":null,"children":[],"decl_id":null,"docs":" An atomic storage for `Option<Arc>`.","sig":null,"attributes":[{"value":"/ An atomic storage for `Option<Arc>`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52920,"byte_end":52960,"line_start":1252,"line_end":1252,"column_start":1,"column_end":41}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52961,"byte_end":52964,"line_start":1253,"line_end":1253,"column_start":1,"column_end":4}},{"value":"/ This is very similar to [`ArcSwap`](type.ArcSwap.html), but allows storing NULL values, which","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":52965,"byte_end":53062,"line_start":1254,"line_end":1254,"column_start":1,"column_end":98}},{"value":"/ is useful in some situations.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53063,"byte_end":53096,"line_start":1255,"line_end":1255,"column_start":1,"column_end":34}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53097,"byte_end":53100,"line_start":1256,"line_end":1256,"column_start":1,"column_end":4}},{"value":"/ This is a type alias only. Most of the methods are described on","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53101,"byte_end":53168,"line_start":1257,"line_end":1257,"column_start":1,"column_end":68}},{"value":"/ [`ArcSwapAny`](struct.ArcSwapAny.html). Even though the examples there often use `ArcSwap`,","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53169,"byte_end":53264,"line_start":1258,"line_end":1258,"column_start":1,"column_end":96}},{"value":"/ they are applicable to `ArcSwapOption` with appropriate changes.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53265,"byte_end":53333,"line_start":1259,"line_end":1259,"column_start":1,"column_end":69}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53334,"byte_end":53337,"line_start":1260,"line_end":1260,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53338,"byte_end":53352,"line_start":1261,"line_end":1261,"column_start":1,"column_end":15}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53353,"byte_end":53356,"line_start":1262,"line_end":1262,"column_start":1,"column_end":4}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53357,"byte_end":53364,"line_start":1263,"line_end":1263,"column_start":1,"column_end":8}},{"value":"/ use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53365,"byte_end":53388,"line_start":1264,"line_end":1264,"column_start":1,"column_end":24}},{"value":"/ use arc_swap::ArcSwapOption;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53389,"byte_end":53421,"line_start":1265,"line_end":1265,"column_start":1,"column_end":33}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53422,"byte_end":53425,"line_start":1266,"line_end":1266,"column_start":1,"column_end":4}},{"value":"/ let shared = ArcSwapOption::from(None);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53426,"byte_end":53469,"line_start":1267,"line_end":1267,"column_start":1,"column_end":44}},{"value":"/ assert!(shared.load_full().is_none());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53470,"byte_end":53512,"line_start":1268,"line_end":1268,"column_start":1,"column_end":43}},{"value":"/ assert!(shared.swap(Some(Arc::new(42))).is_none());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53513,"byte_end":53568,"line_start":1269,"line_end":1269,"column_start":1,"column_end":56}},{"value":"/ assert_eq!(42, **shared.load_full().as_ref().unwrap());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53569,"byte_end":53628,"line_start":1270,"line_end":1270,"column_start":1,"column_end":60}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53629,"byte_end":53636,"line_start":1271,"line_end":1271,"column_start":1,"column_end":8}}]},{"kind":"Method","id":{"krate":0,"index":545},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54258,"byte_end":54270,"line_start":1289,"line_end":1289,"column_start":12,"column_end":24},"name":"from_pointee","qualname":"<ArcSwapAny<Option<Arc<T>>, S>>::from_pointee","value":"pub fn from_pointee<V: Into<Option<T>>>(V) -> Self","parent":null,"children":[],"decl_id":null,"docs":" A convenience constructor directly from a pointed-to value.","sig":null,"attributes":[{"value":"/ A convenience constructor directly from a pointed-to value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53754,"byte_end":53817,"line_start":1275,"line_end":1275,"column_start":5,"column_end":68}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53822,"byte_end":53825,"line_start":1276,"line_end":1276,"column_start":5,"column_end":8}},{"value":"/ This just allocates the `Arc` under the hood.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53830,"byte_end":53879,"line_start":1277,"line_end":1277,"column_start":5,"column_end":54}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53884,"byte_end":53887,"line_start":1278,"line_end":1278,"column_start":5,"column_end":8}},{"value":"/ # Examples","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53892,"byte_end":53906,"line_start":1279,"line_end":1279,"column_start":5,"column_end":19}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53911,"byte_end":53914,"line_start":1280,"line_end":1280,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53919,"byte_end":53930,"line_start":1281,"line_end":1281,"column_start":5,"column_end":16}},{"value":"/ use arc_swap::ArcSwapOption;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53935,"byte_end":53967,"line_start":1282,"line_end":1282,"column_start":5,"column_end":37}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53972,"byte_end":53975,"line_start":1283,"line_end":1283,"column_start":5,"column_end":8}},{"value":"/ let empty: ArcSwapOption<usize> = ArcSwapOption::from_pointee(None);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53980,"byte_end":54052,"line_start":1284,"line_end":1284,"column_start":5,"column_end":77}},{"value":"/ assert!(empty.load().is_none());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54057,"byte_end":54093,"line_start":1285,"line_end":1285,"column_start":5,"column_end":41}},{"value":"/ let non_empty: ArcSwapOption<usize> = ArcSwapOption::from_pointee(42);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54098,"byte_end":54172,"line_start":1286,"line_end":1286,"column_start":5,"column_end":79}},{"value":"/ assert_eq!(42, **non_empty.load().as_ref().unwrap());","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54177,"byte_end":54234,"line_start":1287,"line_end":1287,"column_start":5,"column_end":62}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54239,"byte_end":54246,"line_start":1288,"line_end":1288,"column_start":5,"column_end":12}}]},{"kind":"Method","id":{"krate":0,"index":547},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54491,"byte_end":54496,"line_start":1296,"line_end":1296,"column_start":12,"column_end":17},"name":"empty","qualname":"<ArcSwapAny<Option<Arc<T>>, S>>::empty","value":"pub fn empty() -> Self","parent":null,"children":[],"decl_id":null,"docs":" A convenience constructor for an empty value.","sig":null,"attributes":[{"value":"/ A convenience constructor for an empty value.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54364,"byte_end":54413,"line_start":1293,"line_end":1293,"column_start":5,"column_end":54}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54418,"byte_end":54421,"line_start":1294,"line_end":1294,"column_start":5,"column_end":8}},{"value":"/ This is equivalent to `ArcSwapOption::new(None)`.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54426,"byte_end":54479,"line_start":1295,"line_end":1295,"column_start":5,"column_end":58}}]},{"kind":"Type","id":{"krate":0,"index":548},"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55434,"byte_end":55452,"line_start":1322,"line_end":1322,"column_start":10,"column_end":28},"name":"IndependentArcSwap","qualname":"::IndependentArcSwap","value":"ArcSwapAny<Arc<T>, PrivateUnsharded>","parent":null,"children":[],"decl_id":null,"docs":" An atomic storage that doesn't share the internal generation locks with others.","sig":null,"attributes":[{"value":"/ An atomic storage that doesn't share the internal generation locks with others.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54542,"byte_end":54625,"line_start":1301,"line_end":1301,"column_start":1,"column_end":84}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54626,"byte_end":54629,"line_start":1302,"line_end":1302,"column_start":1,"column_end":4}},{"value":"/ This makes it bigger and it also might suffer contention (on the HW level) if used from many","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54630,"byte_end":54726,"line_start":1303,"line_end":1303,"column_start":1,"column_end":97}},{"value":"/ threads at once. But using [`load_signal_safe`](struct.ArcSwapAny.html#method.load_signal_safe)","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54727,"byte_end":54826,"line_start":1304,"line_end":1304,"column_start":1,"column_end":100}},{"value":"/ will not block writes on other instances.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54827,"byte_end":54872,"line_start":1305,"line_end":1305,"column_start":1,"column_end":46}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54873,"byte_end":54876,"line_start":1306,"line_end":1306,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54877,"byte_end":54888,"line_start":1307,"line_end":1307,"column_start":1,"column_end":12}},{"value":"/ # use std::sync::Arc;","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54889,"byte_end":54914,"line_start":1308,"line_end":1308,"column_start":1,"column_end":26}},{"value":"/ # use arc_swap::{ArcSwap, IndependentArcSwap};","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54915,"byte_end":54965,"line_start":1309,"line_end":1309,"column_start":1,"column_end":51}},{"value":"/ // This one shares locks with others.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":54966,"byte_end":55007,"line_start":1310,"line_end":1310,"column_start":1,"column_end":42}},{"value":"/ let shared = ArcSwap::from_pointee(42);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55008,"byte_end":55051,"line_start":1311,"line_end":1311,"column_start":1,"column_end":44}},{"value":"/ // But this one has an independent lock.","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55052,"byte_end":55096,"line_start":1312,"line_end":1312,"column_start":1,"column_end":45}},{"value":"/ let independent = IndependentArcSwap::from_pointee(42);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55097,"byte_end":55156,"line_start":1313,"line_end":1313,"column_start":1,"column_end":60}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55157,"byte_end":55160,"line_start":1314,"line_end":1314,"column_start":1,"column_end":4}},{"value":"/ // This'll hold a lock so any writers there wouldn't complete","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55161,"byte_end":55226,"line_start":1315,"line_end":1315,"column_start":1,"column_end":66}},{"value":"/ let l = independent.load_signal_safe();","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55227,"byte_end":55270,"line_start":1316,"line_end":1316,"column_start":1,"column_end":44}},{"value":"/ // But the lock doesn't influence the shared one, so this goes through just fine","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55271,"byte_end":55355,"line_start":1317,"line_end":1317,"column_start":1,"column_end":85}},{"value":"/ shared.store(Arc::new(43));","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55356,"byte_end":55387,"line_start":1318,"line_end":1318,"column_start":1,"column_end":32}},{"value":"/","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55388,"byte_end":55391,"line_start":1319,"line_end":1319,"column_start":1,"column_end":4}},{"value":"/ assert_eq!(42, **l);","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55392,"byte_end":55416,"line_start":1320,"line_end":1320,"column_start":1,"column_end":25}},{"value":"/ ```","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":55417,"byte_end":55424,"line_start":1321,"line_end":1321,"column_start":1,"column_end":8}}]}],"impls":[{"id":0,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78488,"byte_end":78489,"line_start":112,"line_end":112,"column_start":59,"column_end":60},"value":"","parent":null,"children":[{"krate":0,"index":37},{"krate":0,"index":38}],"docs":"","sig":null,"attributes":[]},{"id":1,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78638,"byte_end":78648,"line_start":119,"line_end":119,"column_start":47,"column_end":57},"value":"","parent":null,"children":[{"krate":0,"index":42},{"krate":0,"index":43}],"docs":"","sig":null,"attributes":[]},{"id":2,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78937,"byte_end":78948,"line_start":133,"line_end":133,"column_start":19,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":46},{"krate":0,"index":47}],"docs":"","sig":null,"attributes":[]},{"id":3,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79086,"byte_end":79096,"line_start":140,"line_end":140,"column_start":39,"column_end":49},"value":"","parent":null,"children":[{"krate":0,"index":51},{"krate":0,"index":52}],"docs":"","sig":null,"attributes":[]},{"id":4,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79244,"byte_end":79255,"line_start":147,"line_end":147,"column_start":19,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":55},{"krate":0,"index":56}],"docs":"","sig":null,"attributes":[]},{"id":5,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79392,"byte_end":79402,"line_start":154,"line_end":154,"column_start":39,"column_end":49},"value":"","parent":null,"children":[{"krate":0,"index":60},{"krate":0,"index":61}],"docs":"","sig":null,"attributes":[]},{"id":6,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79726,"byte_end":79734,"line_start":166,"line_end":166,"column_start":27,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":68},{"krate":0,"index":69}],"docs":"","sig":null,"attributes":[]},{"id":7,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80735,"byte_end":80736,"line_start":204,"line_end":204,"column_start":29,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":76}],"docs":"","sig":null,"attributes":[]},{"id":8,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":81343,"byte_end":81351,"line_start":227,"line_end":227,"column_start":28,"column_end":36},"value":"","parent":null,"children":[],"docs":"","sig":null,"attributes":[]},{"id":9,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":81434,"byte_end":81442,"line_start":234,"line_end":234,"column_start":28,"column_end":36},"value":"","parent":null,"children":[],"docs":"","sig":null,"attributes":[]},{"id":10,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":81519,"byte_end":81527,"line_start":241,"line_end":241,"column_start":22,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":88},{"krate":0,"index":89}],"docs":"","sig":null,"attributes":[]},{"id":11,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82458,"byte_end":82461,"line_start":266,"line_end":266,"column_start":15,"column_end":18},"value":"","parent":null,"children":[{"krate":0,"index":94}],"docs":"","sig":null,"attributes":[]},{"id":12,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83319,"byte_end":83322,"line_start":290,"line_end":290,"column_start":32,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":101},{"krate":0,"index":102}],"docs":"","sig":null,"attributes":[]},{"id":13,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83898,"byte_end":83911,"line_start":313,"line_end":313,"column_start":19,"column_end":32},"value":"","parent":null,"children":[{"krate":0,"index":105},{"krate":0,"index":106}],"docs":"","sig":null,"attributes":[]},{"id":14,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84507,"byte_end":84515,"line_start":331,"line_end":331,"column_start":30,"column_end":38},"value":"","parent":null,"children":[{"krate":0,"index":109},{"krate":0,"index":110}],"docs":"","sig":null,"attributes":[]},{"id":15,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88684,"byte_end":88689,"line_start":42,"line_end":42,"column_start":40,"column_end":45},"value":"","parent":null,"children":[{"krate":0,"index":133}],"docs":"","sig":null,"attributes":[]},{"id":16,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91608,"byte_end":91613,"line_start":79,"line_end":79,"column_start":15,"column_end":20},"value":"","parent":null,"children":[{"krate":0,"index":163},{"krate":0,"index":164},{"krate":0,"index":165},{"krate":0,"index":166},{"krate":0,"index":167},{"krate":0,"index":168}],"docs":"","sig":null,"attributes":[]},{"id":17,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95732,"byte_end":95737,"line_start":195,"line_end":195,"column_start":37,"column_end":42},"value":"","parent":null,"children":[{"krate":0,"index":175}],"docs":"","sig":null,"attributes":[]},{"id":18,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95968,"byte_end":95973,"line_start":206,"line_end":206,"column_start":27,"column_end":32},"value":"","parent":null,"children":[{"krate":0,"index":180}],"docs":"","sig":null,"attributes":[]},{"id":19,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":96497,"byte_end":96505,"line_start":227,"line_end":227,"column_start":35,"column_end":43},"value":"","parent":null,"children":[{"krate":0,"index":187}],"docs":"","sig":null,"attributes":[]},{"id":20,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":102650,"byte_end":102654,"line_start":12,"line_end":12,"column_start":18,"column_end":22},"value":"","parent":null,"children":[{"krate":0,"index":217}],"docs":"","sig":null,"attributes":[]},{"id":21,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":102966,"byte_end":102970,"line_start":30,"line_end":30,"column_start":18,"column_end":22},"value":"","parent":null,"children":[{"krate":0,"index":223}],"docs":"","sig":null,"attributes":[]},{"id":22,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":103145,"byte_end":103149,"line_start":40,"line_end":40,"column_start":6,"column_end":10},"value":"","parent":null,"children":[{"krate":0,"index":225}],"docs":"","sig":null,"attributes":[]},{"id":23,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":105707,"byte_end":105715,"line_start":102,"line_end":102,"column_start":15,"column_end":23},"value":"","parent":null,"children":[{"krate":0,"index":234}],"docs":"","sig":null,"attributes":[]},{"id":24,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":106974,"byte_end":106978,"line_start":140,"line_end":140,"column_start":6,"column_end":10},"value":"","parent":null,"children":[{"krate":0,"index":239},{"krate":0,"index":242},{"krate":0,"index":244}],"docs":"","sig":null,"attributes":[]},{"id":25,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114220,"byte_end":114225,"line_start":50,"line_end":50,"column_start":6,"column_end":11},"value":"","parent":null,"children":[{"krate":0,"index":261}],"docs":"","sig":null,"attributes":[]},{"id":26,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117058,"byte_end":117064,"line_start":137,"line_end":137,"column_start":29,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":276},{"krate":0,"index":277},{"krate":0,"index":278},{"krate":0,"index":279}],"docs":"","sig":null,"attributes":[]},{"id":27,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118799,"byte_end":118815,"line_start":194,"line_end":194,"column_start":29,"column_end":45},"value":"","parent":null,"children":[{"krate":0,"index":282},{"krate":0,"index":284},{"krate":0,"index":285},{"krate":0,"index":287}],"docs":"","sig":null,"attributes":[]},{"id":28,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":120233,"byte_end":120247,"line_start":242,"line_end":242,"column_start":58,"column_end":72},"value":"","parent":null,"children":[{"krate":0,"index":291},{"krate":0,"index":292},{"krate":0,"index":293},{"krate":0,"index":294}],"docs":"","sig":null,"attributes":[]},{"id":29,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125534,"byte_end":125537,"line_start":73,"line_end":73,"column_start":27,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":315},{"krate":0,"index":316},{"krate":0,"index":317},{"krate":0,"index":318}],"docs":"","sig":null,"attributes":[]},{"id":30,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125840,"byte_end":125842,"line_start":86,"line_end":86,"column_start":27,"column_end":29},"value":"","parent":null,"children":[{"krate":0,"index":321},{"krate":0,"index":322},{"krate":0,"index":323},{"krate":0,"index":324}],"docs":"","sig":null,"attributes":[]},{"id":31,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":126148,"byte_end":126154,"line_start":99,"line_end":99,"column_start":35,"column_end":41},"value":"","parent":null,"children":[{"krate":0,"index":327},{"krate":0,"index":328},{"krate":0,"index":329},{"krate":0,"index":330}],"docs":"","sig":null,"attributes":[]},{"id":32,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":21196,"byte_end":21203,"line_start":410,"line_end":410,"column_start":10,"column_end":17},"value":"","parent":null,"children":[{"krate":0,"index":423},{"krate":0,"index":425}],"docs":"","sig":null,"attributes":[]},{"id":33,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":22406,"byte_end":22413,"line_start":440,"line_end":440,"column_start":19,"column_end":26},"value":"","parent":null,"children":[{"krate":0,"index":428}],"docs":"","sig":null,"attributes":[]},{"id":34,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":22935,"byte_end":22945,"line_start":458,"line_end":458,"column_start":42,"column_end":52},"value":"","parent":null,"children":[{"krate":0,"index":441}],"docs":"","sig":null,"attributes":[]},{"id":35,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":23540,"byte_end":23545,"line_start":477,"line_end":477,"column_start":21,"column_end":26},"value":"","parent":null,"children":[{"krate":0,"index":450},{"krate":0,"index":451}],"docs":"","sig":null,"attributes":[]},{"id":36,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25815,"byte_end":25820,"line_start":529,"line_end":529,"column_start":31,"column_end":36},"value":"","parent":null,"children":[{"krate":0,"index":455},{"krate":0,"index":456}],"docs":"","sig":null,"attributes":[]},{"id":37,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25967,"byte_end":25972,"line_start":537,"line_end":537,"column_start":39,"column_end":44},"value":"","parent":null,"children":[{"krate":0,"index":460}],"docs":"","sig":null,"attributes":[]},{"id":38,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":26129,"byte_end":26134,"line_start":543,"line_end":543,"column_start":43,"column_end":48},"value":"","parent":null,"children":[{"krate":0,"index":464}],"docs":"","sig":null,"attributes":[]},{"id":39,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":26278,"byte_end":26283,"line_start":549,"line_end":549,"column_start":30,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":468}],"docs":"","sig":null,"attributes":[]},{"id":40,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":30460,"byte_end":30470,"line_start":660,"line_end":660,"column_start":45,"column_end":55},"value":"","parent":null,"children":[{"krate":0,"index":483}],"docs":"","sig":null,"attributes":[]},{"id":41,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":30969,"byte_end":30979,"line_start":674,"line_end":674,"column_start":42,"column_end":52},"value":"","parent":null,"children":[{"krate":0,"index":487}],"docs":"","sig":null,"attributes":[]},{"id":42,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31266,"byte_end":31276,"line_start":684,"line_end":684,"column_start":43,"column_end":53},"value":"","parent":null,"children":[{"krate":0,"index":491}],"docs":"","sig":null,"attributes":[]},{"id":43,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31395,"byte_end":31405,"line_start":690,"line_end":690,"column_start":35,"column_end":45},"value":"","parent":null,"children":[{"krate":0,"index":495}],"docs":"","sig":null,"attributes":[]},{"id":44,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31660,"byte_end":31670,"line_start":702,"line_end":702,"column_start":37,"column_end":47},"value":"","parent":null,"children":[{"krate":0,"index":499}],"docs":"","sig":null,"attributes":[]},{"id":45,"kind":"Direct","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31868,"byte_end":31878,"line_start":711,"line_end":711,"column_start":55,"column_end":65},"value":"","parent":null,"children":[{"krate":0,"index":503}],"docs":"","sig":null,"attributes":[]},{"id":46,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31987,"byte_end":31997,"line_start":717,"line_end":717,"column_start":33,"column_end":43},"value":"","parent":null,"children":[{"krate":0,"index":507},{"krate":0,"index":508},{"krate":0,"index":509},{"krate":0,"index":510},{"krate":0,"index":511},{"krate":0,"index":512},{"krate":0,"index":513},{"krate":0,"index":515},{"krate":0,"index":516},{"krate":0,"index":517},{"krate":0,"index":519},{"krate":0,"index":523},{"krate":0,"index":526}],"docs":"","sig":null,"attributes":[]},{"id":47,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51222,"byte_end":51232,"line_start":1209,"line_end":1209,"column_start":25,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":535},{"krate":0,"index":536}],"docs":"","sig":null,"attributes":[]},{"id":48,"kind":"Inherent","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53718,"byte_end":53728,"line_start":1274,"line_end":1274,"column_start":25,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":545},{"krate":0,"index":547}],"docs":"","sig":null,"attributes":[]}],"refs":[{"kind":"Mod","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12679,"byte_end":12685,"line_start":248,"line_end":248,"column_start":9,"column_end":15},"ref_id":{"krate":0,"index":3}},{"kind":"Mod","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12707,"byte_end":12712,"line_start":250,"line_end":250,"column_start":9,"column_end":14},"ref_id":{"krate":0,"index":140}},{"kind":"Mod","span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":12756,"byte_end":12764,"line_start":253,"line_end":253,"column_start":9,"column_end":17},"ref_id":{"krate":0,"index":247}}],"macro_refs":[],"relations":[{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78488,"byte_end":78489,"line_start":112,"line_end":112,"column_start":59,"column_end":60},"kind":{"Impl":{"id":0}},"from":{"krate":0,"index":36},"to":{"krate":0,"index":29}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78638,"byte_end":78648,"line_start":119,"line_end":119,"column_start":47,"column_end":57},"kind":{"Impl":{"id":1}},"from":{"krate":0,"index":474},"to":{"krate":0,"index":29}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":78937,"byte_end":78948,"line_start":133,"line_end":133,"column_start":19,"column_end":30},"kind":{"Impl":{"id":2}},"from":{"krate":0,"index":550},"to":{"krate":2,"index":3064}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79086,"byte_end":79096,"line_start":140,"line_end":140,"column_start":39,"column_end":49},"kind":{"Impl":{"id":3}},"from":{"krate":0,"index":474},"to":{"krate":0,"index":29}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79244,"byte_end":79255,"line_start":147,"line_end":147,"column_start":19,"column_end":30},"kind":{"Impl":{"id":4}},"from":{"krate":0,"index":550},"to":{"krate":2,"index":3064}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79392,"byte_end":79402,"line_start":154,"line_end":154,"column_start":39,"column_end":49},"kind":{"Impl":{"id":5}},"from":{"krate":0,"index":474},"to":{"krate":0,"index":29}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":79726,"byte_end":79734,"line_start":166,"line_end":166,"column_start":27,"column_end":35},"kind":{"Impl":{"id":6}},"from":{"krate":0,"index":62},"to":{"krate":2,"index":3064}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":80735,"byte_end":80736,"line_start":204,"line_end":204,"column_start":29,"column_end":30},"kind":{"Impl":{"id":7}},"from":{"krate":0,"index":75},"to":{"krate":0,"index":70}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":81343,"byte_end":81351,"line_start":227,"line_end":227,"column_start":28,"column_end":36},"kind":{"Impl":{"id":8}},"from":{"krate":0,"index":557},"to":{"krate":2,"index":2853}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":81434,"byte_end":81442,"line_start":234,"line_end":234,"column_start":28,"column_end":36},"kind":{"Impl":{"id":9}},"from":{"krate":0,"index":557},"to":{"krate":2,"index":2865}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":81519,"byte_end":81527,"line_start":241,"line_end":241,"column_start":22,"column_end":30},"kind":{"Impl":{"id":10}},"from":{"krate":0,"index":557},"to":{"krate":2,"index":3064}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":82458,"byte_end":82461,"line_start":266,"line_end":266,"column_start":15,"column_end":18},"kind":{"Impl":{"id":11}},"from":{"krate":0,"index":573},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83319,"byte_end":83322,"line_start":290,"line_end":290,"column_start":32,"column_end":35},"kind":{"Impl":{"id":12}},"from":{"krate":0,"index":573},"to":{"krate":0,"index":29}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":83898,"byte_end":83911,"line_start":313,"line_end":313,"column_start":19,"column_end":32},"kind":{"Impl":{"id":13}},"from":{"krate":0,"index":594},"to":{"krate":2,"index":3064}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/access.rs","byte_start":84507,"byte_end":84515,"line_start":331,"line_end":331,"column_start":30,"column_end":38},"kind":{"Impl":{"id":14}},"from":{"krate":0,"index":627},"to":{"krate":0,"index":29}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/as_raw.rs","byte_start":88684,"byte_end":88689,"line_start":42,"line_end":42,"column_start":40,"column_end":45},"kind":{"Impl":{"id":15}},"from":{"krate":0,"index":442},"to":{"krate":0,"index":119}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":91608,"byte_end":91613,"line_start":79,"line_end":79,"column_start":15,"column_end":20},"kind":{"Impl":{"id":16}},"from":{"krate":0,"index":660},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95732,"byte_end":95737,"line_start":195,"line_end":195,"column_start":37,"column_end":42},"kind":{"Impl":{"id":17}},"from":{"krate":0,"index":660},"to":{"krate":0,"index":156}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":95968,"byte_end":95973,"line_start":206,"line_end":206,"column_start":27,"column_end":32},"kind":{"Impl":{"id":18}},"from":{"krate":0,"index":660},"to":{"krate":2,"index":2759}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/cache.rs","byte_start":96497,"byte_end":96505,"line_start":227,"line_end":227,"column_start":35,"column_end":43},"kind":{"Impl":{"id":19}},"from":{"krate":0,"index":673},"to":{"krate":0,"index":156}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":102650,"byte_end":102654,"line_start":12,"line_end":12,"column_start":18,"column_end":22},"kind":{"Impl":{"id":20}},"from":{"krate":0,"index":213},"to":{"krate":2,"index":2831}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":102966,"byte_end":102970,"line_start":30,"line_end":30,"column_start":18,"column_end":22},"kind":{"Impl":{"id":21}},"from":{"krate":0,"index":218},"to":{"krate":2,"index":2831}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":103145,"byte_end":103149,"line_start":40,"line_end":40,"column_start":6,"column_end":10},"kind":{"Impl":{"id":22}},"from":{"krate":0,"index":218},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":105707,"byte_end":105715,"line_start":102,"line_end":102,"column_start":15,"column_end":23},"kind":{"Impl":{"id":23}},"from":{"krate":0,"index":230},"to":{"krate":2,"index":3088}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/debt.rs","byte_start":106974,"byte_end":106978,"line_start":140,"line_end":140,"column_start":6,"column_end":10},"kind":{"Impl":{"id":24}},"from":{"krate":0,"index":213},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114220,"byte_end":114225,"line_start":50,"line_end":50,"column_start":6,"column_end":11},"kind":{"Impl":{"id":25}},"from":{"krate":0,"index":699},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":114980,"byte_end":114987,"line_start":67,"line_end":67,"column_start":31,"column_end":38},"kind":"SuperTrait","from":{"krate":2,"index":2831},"to":{"krate":0,"index":263}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":117058,"byte_end":117064,"line_start":137,"line_end":137,"column_start":29,"column_end":35},"kind":{"Impl":{"id":26}},"from":{"krate":0,"index":709},"to":{"krate":0,"index":263}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":118799,"byte_end":118815,"line_start":194,"line_end":194,"column_start":29,"column_end":45},"kind":{"Impl":{"id":27}},"from":{"krate":0,"index":713},"to":{"krate":0,"index":263}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/gen_lock.rs","byte_start":120233,"byte_end":120247,"line_start":242,"line_end":242,"column_start":58,"column_end":72},"kind":{"Impl":{"id":28}},"from":{"krate":0,"index":719},"to":{"krate":0,"index":263}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":123724,"byte_end":123729,"line_start":31,"line_end":31,"column_start":26,"column_end":31},"kind":"SuperTrait","from":{"krate":2,"index":2474},"to":{"krate":0,"index":306}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125534,"byte_end":125537,"line_start":73,"line_end":73,"column_start":27,"column_end":30},"kind":{"Impl":{"id":29}},"from":{"krate":5,"index":5684},"to":{"krate":0,"index":306}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":125840,"byte_end":125842,"line_start":86,"line_end":86,"column_start":27,"column_end":29},"kind":{"Impl":{"id":30}},"from":{"krate":5,"index":4393},"to":{"krate":0,"index":306}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/ref_cnt.rs","byte_start":126148,"byte_end":126154,"line_start":99,"line_end":99,"column_start":35,"column_end":41},"kind":{"Impl":{"id":31}},"from":{"krate":2,"index":33466},"to":{"krate":0,"index":306}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":21196,"byte_end":21203,"line_start":410,"line_end":410,"column_start":10,"column_end":17},"kind":{"Impl":{"id":32}},"from":{"krate":0,"index":418},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":22406,"byte_end":22413,"line_start":440,"line_end":440,"column_start":19,"column_end":26},"kind":{"Impl":{"id":33}},"from":{"krate":0,"index":418},"to":{"krate":2,"index":3088}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":22935,"byte_end":22945,"line_start":458,"line_end":458,"column_start":42,"column_end":52},"kind":{"Impl":{"id":34}},"from":{"krate":0,"index":429},"to":{"krate":2,"index":2759}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":23540,"byte_end":23545,"line_start":477,"line_end":477,"column_start":21,"column_end":26},"kind":{"Impl":{"id":35}},"from":{"krate":0,"index":442},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25815,"byte_end":25820,"line_start":529,"line_end":529,"column_start":31,"column_end":36},"kind":{"Impl":{"id":36}},"from":{"krate":0,"index":442},"to":{"krate":2,"index":3064}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":25967,"byte_end":25972,"line_start":537,"line_end":537,"column_start":39,"column_end":44},"kind":{"Impl":{"id":37}},"from":{"krate":0,"index":442},"to":{"krate":2,"index":8894}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":26129,"byte_end":26134,"line_start":543,"line_end":543,"column_start":43,"column_end":48},"kind":{"Impl":{"id":38}},"from":{"krate":0,"index":442},"to":{"krate":2,"index":8901}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":26278,"byte_end":26283,"line_start":549,"line_end":549,"column_start":30,"column_end":35},"kind":{"Impl":{"id":39}},"from":{"krate":0,"index":442},"to":{"krate":2,"index":3088}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":30460,"byte_end":30470,"line_start":660,"line_end":660,"column_start":45,"column_end":55},"kind":{"Impl":{"id":40}},"from":{"krate":0,"index":474},"to":{"krate":2,"index":2759}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":30969,"byte_end":30979,"line_start":674,"line_end":674,"column_start":42,"column_end":52},"kind":{"Impl":{"id":41}},"from":{"krate":0,"index":474},"to":{"krate":2,"index":3088}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31266,"byte_end":31276,"line_start":684,"line_end":684,"column_start":43,"column_end":53},"kind":{"Impl":{"id":42}},"from":{"krate":0,"index":474},"to":{"krate":2,"index":2474}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31395,"byte_end":31405,"line_start":690,"line_end":690,"column_start":35,"column_end":45},"kind":{"Impl":{"id":43}},"from":{"krate":0,"index":474},"to":{"krate":2,"index":8894}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31660,"byte_end":31670,"line_start":702,"line_end":702,"column_start":37,"column_end":47},"kind":{"Impl":{"id":44}},"from":{"krate":0,"index":474},"to":{"krate":2,"index":8901}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31868,"byte_end":31878,"line_start":711,"line_end":711,"column_start":55,"column_end":65},"kind":{"Impl":{"id":45}},"from":{"krate":0,"index":474},"to":{"krate":2,"index":2831}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":31987,"byte_end":31997,"line_start":717,"line_end":717,"column_start":33,"column_end":43},"kind":{"Impl":{"id":46}},"from":{"krate":0,"index":474},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":51222,"byte_end":51232,"line_start":1209,"line_end":1209,"column_start":25,"column_end":35},"kind":{"Impl":{"id":47}},"from":{"krate":0,"index":474},"to":{"krate":4294967295,"index":4294967295}},{"span":{"file_name":"/Users/padawan_e15/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.3/src/lib.rs","byte_start":53718,"byte_end":53728,"line_start":1274,"line_end":1274,"column_start":25,"column_end":35},"kind":{"Impl":{"id":48}},"from":{"krate":0,"index":474},"to":{"krate":4294967295,"index":4294967295}}]}